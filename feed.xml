<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Technical Rex</title>
    <atom:link href="http://technicalrex.com/feed.xml" rel="self" type="application/rss+xml"/>
    <link>http://technicalrex.com/</link>
    <description>A site about programming, business, and dinosaurs. ROAR!</description>
    <pubDate>Thu, 17 Mar 2016 12:26:11 -0400</pubDate>
    
      <item>
        <title>Schedule Blog Content for a Static Site</title>
        <link>http://technicalrex.com/scheduling-static-site-content/</link>
        <guid isPermaLink="true">http://technicalrex.com/scheduling-static-site-content/</guid>
        <description>&lt;p&gt;Static site generators can be very appealing to bloggers. They’re free, fast, secure, rich with plugins and themes, and the lack of a database and little to no server-side processing sheds a lot of the hassle associated with blogging. There are features common to dynamic sites (like WordPress) that you don’t get out of the box with a static site generator, though. One such feature is publishing content on a schedule.&lt;/p&gt;

&lt;h2 id=&quot;why-publish-on-a-schedule&quot;&gt;Why Publish on a Schedule?&lt;/h2&gt;

&lt;p&gt;The ability to schedule blog posts enables writing in batches. For my business, &lt;a href=&quot;http://blog.givingjar.org&quot; title=&quot;Giving Jar Blog&quot;&gt;Giving Jar&lt;/a&gt;, I write about and promote a different charity every other week. If I can spend one day interviewing and writing about two or three charities, it frees me from that task for four to six weeks!&lt;/p&gt;

&lt;p&gt;Publishing articles at a specific time also make it easier to automate newsletters, social media posts, and other promotional material for the blog. Making your schedule well-known also encourages visitors to return to your site to look for new content.&lt;/p&gt;

&lt;h2 id=&quot;stay-near-your-comfort-zone&quot;&gt;Stay Near Your Comfort Zone&lt;/h2&gt;

&lt;p&gt;Once you find a solution for scheduling your static content, you probably won’t have to mess with it again. For that reason, I’m going to recommend doing something that I normally discourage: stay near your comfort zone. This isn’t the time to spend a lot of time learning a ton of new things if you have more important tasks to work on.&lt;/p&gt;

&lt;p&gt;My comfort zone included &lt;a href=&quot;http://jekyllrb.com/&quot; title=&quot;Jekyll: A Free Static Site Generator&quot;&gt;Jekyll&lt;/a&gt; for the static site generator, &lt;a href=&quot;https://surge.sh/&quot; title=&quot;Surge.sh: A Free Static Site Host&quot;&gt;Surge.sh&lt;/a&gt; for free static site hosting, &lt;a href=&quot;https://github.com/&quot; title=&quot;GitHub: Amazing, Free Version Control&quot;&gt;GitHub&lt;/a&gt; for version control, &lt;a href=&quot;http://gruntjs.com/&quot; title=&quot;Grunt: A JavaScript-based Task Runner&quot;&gt;Grunt&lt;/a&gt; for building and deploying, and a Linux-based VM on &lt;a href=&quot;https://www.digitalocean.com/&quot; title=&quot;Digital Ocean: Cheap and Easy Virtual Machines&quot;&gt;Digital Ocean&lt;/a&gt; for scheduling code.&lt;/p&gt;

&lt;p&gt;If you know Middleman, Gulp, or Windows, use them! Take the ideas from this article, adapt them, and save yourself some time (and probably a headache!). Perhaps even write about your alternative experience?&lt;/p&gt;

&lt;h2 id=&quot;assumptions&quot;&gt;Assumptions&lt;/h2&gt;

&lt;p&gt;Let’s assume you already have a blog created with Jekyll, you maintain your changes in GitHub, and you manually build the site, then deploy your changes at 9 AM every Wednesday to Surge.sh. Let’s also assume you are hosting your site at &lt;code class=&quot;highlighter-rouge&quot;&gt;my-site.com&lt;/code&gt; and your GitHub repository is located at &lt;code class=&quot;highlighter-rouge&quot;&gt;https://github.com/my-user/my-site.com&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;The general steps to automating this process are to consolidate the build and deployment process to a single script, and then run that script somewhere that is “always on” at the desired time.&lt;/p&gt;

&lt;p&gt;Another quick note about command syntax: commands should be typed exactly as they appear after the dollar sign ($). Any text before the $ is just a hint about which user should run the command. Any lines starting with a hashtag (#) are simply comments about what the subsequent commands do and should not be typed out.&lt;/p&gt;

&lt;h2 id=&quot;step-1-consolidate-your-deployment&quot;&gt;Step 1: Consolidate Your Deployment&lt;/h2&gt;

&lt;p&gt;At the end of this step, you should have a single command that you can run to checkout, build, and deploy your site.&lt;/p&gt;

&lt;p&gt;Right now, the manual process looks like this:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; ~/my-site.com
&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;git fetch --all
&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;git reset --hard origin/master
&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;jekyll build
&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;surge _site
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;If we use Grunt to perform these steps as a single command, we first must install &lt;a href=&quot;https://www.npmjs.com/&quot; title=&quot;NPM: Node Package Manager&quot;&gt;NPM&lt;/a&gt; (I recommend using &lt;a href=&quot;https://github.com/creationix/nvm&quot; title=&quot;NVM: Node Version Manager&quot;&gt;NVM&lt;/a&gt; to install NPM), then creating a &lt;code class=&quot;highlighter-rouge&quot;&gt;package.json&lt;/code&gt; file to save development dependencies (such as Grunt), installing those dependencies, and finally, writing a &lt;code class=&quot;highlighter-rouge&quot;&gt;Gruntfile.js&lt;/code&gt; file that Grunt will use to do our checkout, build, and deployment.&lt;/p&gt;

&lt;p&gt;If you’re using Surge, you probably have NPM installed. As a refresher, installing NVM and NPM in Bash will look like this:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# Install NVM&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;touch ~/.bash_profile
&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.31.0/install.sh | bash
&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;. ~/.bash_profile

&lt;span class=&quot;c&quot;&gt;# Install NPM 4.3.1&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;nvm install 4.3.1
&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;nvm use 4.3.1
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Next, create a &lt;code class=&quot;highlighter-rouge&quot;&gt;package.json&lt;/code&gt; file at the base of your static site and add the dependencies we’ll need:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# Change to your project directory&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; ~/my-site.com

&lt;span class=&quot;c&quot;&gt;# Create package.json&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;npm init

&lt;span class=&quot;c&quot;&gt;# Install grunt&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;npm install -g grunt

&lt;span class=&quot;c&quot;&gt;# Install dependencies&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;npm install grunt --save-dev
&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;npm install grunt-git --save-dev
&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;npm install grunt-jekyll --save-dev
&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;npm install grunt-surge --save-dev
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;You’ll have a &lt;code class=&quot;highlighter-rouge&quot;&gt;package.json&lt;/code&gt; that looks something like this:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;my-site.com&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;version&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;1.0.0&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;homepage&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http://my-site.com&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;license&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;MIT&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;scripts&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;echo \&quot;Error: no test specified\&quot; &amp;amp;&amp;amp; exit 1&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;repository&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;git&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;url&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;git+https://github.com/my-user/my-site.com.git&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;devDependencies&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;grunt&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;~0.4.5&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;grunt-git&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;^0.3.7&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;grunt-jekyll&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;^0.4.3&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;grunt-surge&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;^0.7.0&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;The last step is to create a &lt;code class=&quot;highlighter-rouge&quot;&gt;Gruntfile.js&lt;/code&gt; in the same directory as your &lt;code class=&quot;highlighter-rouge&quot;&gt;package.json&lt;/code&gt; and add all of the checkout, build, and deployment steps. Start with this:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;grunt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;grunt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;initConfig&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;pkg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;grunt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;readJSON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;package.json&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
    
    &lt;span class=&quot;na&quot;&gt;gitfetch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;latest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;na&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
    
    &lt;span class=&quot;na&quot;&gt;gitreset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;latest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;na&quot;&gt;mode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;hard&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;na&quot;&gt;commit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;origin/master&#39;&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
  
    &lt;span class=&quot;na&quot;&gt;jekyll&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;dist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;na&quot;&gt;serve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;na&quot;&gt;drafts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;na&quot;&gt;future&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;na&quot;&gt;serve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;na&quot;&gt;drafts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;na&quot;&gt;future&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;

    &lt;span class=&quot;na&quot;&gt;surge&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;publish&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;na&quot;&gt;project&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;_site/&#39;&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
  
  &lt;span class=&quot;nx&quot;&gt;grunt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;loadNpmTasks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;grunt-git&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;grunt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;loadNpmTasks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;grunt-jekyll&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;grunt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;loadNpmTasks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;grunt-surge&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  
  &lt;span class=&quot;nx&quot;&gt;grunt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;registerTask&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;default&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;jekyll:dist&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;grunt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;registerTask&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;publish&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;gitfetch:latest&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;gitreset:latest&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;jekyll:dist&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;surge:publish&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;grunt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;registerTask&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;test&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;jekyll:test&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;At this point the manual process has now been consolidated down to a single &lt;code class=&quot;highlighter-rouge&quot;&gt;grunt&lt;/code&gt; command that will checkout, build, and deploy your site:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;grunt prod
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;This &lt;code class=&quot;highlighter-rouge&quot;&gt;Gruntfile.js&lt;/code&gt; also allows you to run &lt;code class=&quot;highlighter-rouge&quot;&gt;grunt&lt;/code&gt; to build your site without deploying it or &lt;code class=&quot;highlighter-rouge&quot;&gt;grunt test&lt;/code&gt; to preview articles written for dates in the future or draft content.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;GOTCHA #1:&lt;/strong&gt; &lt;em&gt;Running &lt;code class=&quot;highlighter-rouge&quot;&gt;grunt prod&lt;/code&gt; works on your computer, but it won’t simply work like this when running from cron. That’s because cron runs scheduled commands in isolated environments and certain settings that typically come from your Bash profile and NVM won’t be accessible to cron commands. To get around this, create a shell script named &lt;code class=&quot;highlighter-rouge&quot;&gt;deploy.sh&lt;/code&gt; at the root of your static site that will setup the environment before invoking Grunt.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Here’s what your &lt;code class=&quot;highlighter-rouge&quot;&gt;deploy.sh&lt;/code&gt; might look like:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#!/bin/bash&lt;/span&gt;

exit_usage&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;usage: &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$0&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; gruntfile_dir&quot;&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;exit &lt;/span&gt;1
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;$#&quot;&lt;/span&gt; -ne 1 &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;; &lt;span class=&quot;k&quot;&gt;then
  &lt;/span&gt;exit_usage
&lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;

. ~/.bash_profile

. ~/.nvm/nvm.sh
nvm use default

&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;
grunt prod
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Add &lt;code class=&quot;highlighter-rouge&quot;&gt;deploy.sh&lt;/code&gt; to a list of files excluded from your static site when it is built. In Jekyll, add an “exclude” list to the end of your &lt;code class=&quot;highlighter-rouge&quot;&gt;_config.yml&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# Exclude files from generated site&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;exclude&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Gemfile&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Gemfile.lock&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;LICENSE&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;README.md&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;package.json&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Gruntfile.js&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;node_modules&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;deploy.sh&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Also, make sure you mark &lt;code class=&quot;highlighter-rouge&quot;&gt;deploy.sh&lt;/code&gt; as executable.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# Set execute permission on deploy.sh&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;chmod 755 deploy.sh
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Don’t forget to add, commit, and push your changes to GitHub!&lt;/p&gt;

&lt;h2 id=&quot;step-2-setup-a-virtual-machine&quot;&gt;Step 2: Setup a Virtual Machine&lt;/h2&gt;

&lt;p&gt;In order to deploy content on a schedule, we need a server that is running at the times we want to deploy. If you have a physical server that fits this criterion, by all means use it! I did not have a server to spare so I chose a virtual machine schedule deployments.&lt;/p&gt;

&lt;h3 id=&quot;overview&quot;&gt;Overview&lt;/h3&gt;

&lt;p&gt;This is a fairly large step and there are a few gotchas, so let me speak generally about what we’re doing before diving into the details. We are creating a virtual environment where we can install all of the tools needed to checkout, build, and deploy our site at any time that we want. Ultimately we need to install Git, Ruby, Jekyll, NPM, Grunt, and Surge. Then we’ll clone our site and use cron to run our &lt;code class=&quot;highlighter-rouge&quot;&gt;grunt publish&lt;/code&gt; command on a schedule.&lt;/p&gt;

&lt;h3 id=&quot;detailed-instructions&quot;&gt;Detailed Instructions&lt;/h3&gt;

&lt;p&gt;If you’re following these steps to the letter, then the next step is to create a &lt;a href=&quot;https://www.digitalocean.com/&quot; title=&quot;Digital Ocean: Cheap and Easy Virtual Machines&quot;&gt;Digital Ocean&lt;/a&gt; account. Then create a droplet using the $5 per month pricing tier (yes, this solution costs money), choose the “Ubuntu 15.10 x64” image, and pick a data center nearest to where your readers are located.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;GOTCHA #2:&lt;/strong&gt; &lt;em&gt;If you use Digital Ocean for your VM, pay close attention to the IP address assigned to your VM. If it starts with “192.241.” then delete it and create a new one. Surge.sh is also hosted on Digital Ocean and Surge’s software prevents uploads from IP addresses on the same subnet as their own.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Follow these instructions to &lt;a href=&quot;https://www.digitalocean.com/community/tutorials/how-to-use-ssh-keys-with-digitalocean-droplets&quot; title=&quot;How To Use SSH Keys with DigitalOcean Droplets&quot;&gt;Use SSH Keys with Digital Ocean Droplets&lt;/a&gt;. Then SSH to your Droplet as the root user to run the rest of the commands in this article.&lt;/p&gt;

&lt;p&gt;You should run the first set of commands as root to do things like install git, curl, libssl, and ntpdate.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# Install git, curl, libssl, ntpdate, etc.&lt;/span&gt;
root@vm &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;apt-get update
root@vm &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;apt-get install git curl build-essential libssl-dev ntpdate
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;I also recommend creating a dedicated user for performing your deployments, so let’s take care of that.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# Create a user named &quot;myuser&quot; and set its password&lt;/span&gt;
root@vm &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;useradd -m myuser
root@vm &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;passwd myuser

&lt;span class=&quot;c&quot;&gt;# Add user to sudoers file&lt;/span&gt;
root@vm &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;myuser ALL=(ALL:ALL) ALL&quot;&lt;/span&gt; &amp;gt;&amp;gt; /etc/sudoers
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Since we’re going to be scheduling time-sensitive content, let’s also adjust the time zone and run &lt;code class=&quot;highlighter-rouge&quot;&gt;ntpdate&lt;/code&gt; occasionally so the time on the VM doesn’t drift over a long period of time.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# Choose a time zone&lt;/span&gt;
root@vm &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;dpkg-reconfigure tzdata

&lt;span class=&quot;c&quot;&gt;# Run ntpdate daily&lt;/span&gt;
root@vm &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;printf&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;#!/bin/sh\nntpdate ntp.ubuntu.com\n&#39;&lt;/span&gt; &amp;gt; /etc/cron.daily/ntpdate
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;All of the remaining commands should run as the user you created. If you are prompted for a password at any point, use the password you specified for “myuser”.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# Switch to the user you created&lt;/span&gt;
root@vm &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;su - myuser
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Now let’s install RVM, Ruby, and Bundler.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# Install the public key needed to fetch RVM&lt;/span&gt;
myuser@vm &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;gpg --keyserver hkp://keys.gnupg.net --recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3

&lt;span class=&quot;c&quot;&gt;# Download and install RVM&lt;/span&gt;
myuser@vm &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;curl -L https://get.rvm.io | bash -s stable
myuser@vm &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;source&lt;/span&gt; ~/.rvm/scripts/rvm
myuser@vm &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;rvm requirements

&lt;span class=&quot;c&quot;&gt;# Install and configure Ruby&lt;/span&gt;
myuser@vm &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;rvm install ruby
myuser@vm &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;rvm use ruby --default
myuser@vm &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;rvm rubygems current

&lt;span class=&quot;c&quot;&gt;# Install Bundler&lt;/span&gt;
myuser@vm &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;gem install bundler
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Next up: NVM and Node.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# Download and install NVM&lt;/span&gt;
myuser@vm &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.31.0/install.sh | bash
myuser@vm &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;. ~/.nvm/nvm.sh

&lt;span class=&quot;c&quot;&gt;# Install Node 4.3.1, or whichever version you&#39;d like&lt;/span&gt;
myuser@vm &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;nvm install 4.3.1
myuser@vm &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;nvm use 4.3.1
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;That’s it for software installation on your droplet!&lt;/p&gt;

&lt;h2 id=&quot;step-3-clone-your-site&quot;&gt;Step 3: Clone Your Site&lt;/h2&gt;

&lt;p&gt;Use Git to clone your static site and install its dependencies:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# Clone your static site from GitHub&lt;/span&gt;
myuser@vm &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;git clone https://github.com/my-user/my-site.com.git
myuser@vm &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;my-site.com

&lt;span class=&quot;c&quot;&gt;# Install Grunt and Surge&lt;/span&gt;
myuser@vm &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;npm install -g grunt-cli
myuser@vm &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;npm install -g surge

&lt;span class=&quot;c&quot;&gt;# Install project dependencies&lt;/span&gt;
myuser@vm &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;bundle install
myuser@vm &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;npm install
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;While we’re here, let’s log into Surge. Make sure you know your username and password.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# Login to Surge&lt;/span&gt;
myuser@vm &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;surge login
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;This would be a good time to test deployments from the VM. This should do the trick:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# Manually deploy your site&lt;/span&gt;
myuser@vm &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;/home/myuser/my-site.com/deploy.sh /home/myuser/my-site.com
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Once everything deploys smoothly, we can schedule that script!&lt;/p&gt;

&lt;h2 id=&quot;step-4-schedule-deployments&quot;&gt;Step 4: Schedule Deployments&lt;/h2&gt;

&lt;p&gt;Use cron to run &lt;code class=&quot;highlighter-rouge&quot;&gt;deploy.sh&lt;/code&gt; on a schedule. First, edit your user’s crontab:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# Edit your crontab&lt;/span&gt;
myuser@vm &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;crontab -e
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Add the following two lines to the crontab. The first line is simply a comment to help remember the schedule. In the following example, the script will run every Wednesday at 12:30 AM in the time zone that you configured for the VM. Here’s a good &lt;a href=&quot;http://code.tutsplus.com/tutorials/scheduling-tasks-with-cron-jobs--net-8800&quot; title=&quot;Scheduling Tasks with Cron Jobs&quot;&gt;intro to scheduling with cron&lt;/a&gt;.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# Fetch blog content and deploy every Wednesday at 12:30 AM
30 0 * * 3 /home/myuser/my-site.com/deploy.sh prod /home/myuser/my-site.com/ &amp;gt; /home/myuser/log/blog.log 2&amp;gt;&amp;amp;1
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;The command also writes all output to a log file. That way, if an error occurs, you can look at the output to determine what went wrong. If you run your deployments frequently, you may also want to put a timestamp on your log files.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;THAT’S IT!&lt;/strong&gt; The deployments will start running on your schedule, freeing you from doing it by hand!&lt;/p&gt;

&lt;h2 id=&quot;alternatives&quot;&gt;Alternatives&lt;/h2&gt;

&lt;p&gt;Before writing my own solution, I tried to find something that already existed. There were a couple, but neither quite fit my needs. I’ve put them here just in case you might find them useful.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;If you are using &lt;a href=&quot;https://pages.github.com/&quot; title=&quot;GitHub Pages: Free Static Site Hosting on GitHub&quot;&gt;GitHub Pages&lt;/a&gt; as your static site host, here’s a pretty clever solution that uses &lt;a href=&quot;https://zapier.com/&quot; title=&quot;Zapier: Automate Tasks&quot;&gt;Zapier&lt;/a&gt; and calendar events to avoid using a server or VM to schedule deployments. &lt;br /&gt;
&lt;a href=&quot;http://blog.east5th.co/2014/12/29/scheduling-posts-with-jekyll-github-pages-and-zapier/&quot; title=&quot;Use Zapier to schedule deployments to GitHub Pages&quot;&gt;http://blog.east5th.co/2014/12/29/scheduling-posts-with-jekyll-github-pages-and-zapier/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;This tutorial shows how to use &lt;a href=&quot;http://rake.rubyforge.org/&quot; title=&quot;Rake: A Build Program for Ruby Projects&quot;&gt;Rake&lt;/a&gt; to consolidate your deployments instead of Grunt. If I weren’t already using Grunt for my builds and manual deployments, I probably would have tried this.&lt;br /&gt;
&lt;a href=&quot;http://www.jaredwolff.com/blog/schedule-jekyll-posts/&quot; title=&quot;Use Rake and Cron to schedule static site deployments&quot;&gt;http://www.jaredwolff.com/blog/schedule-jekyll-posts/&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;strong&gt;Feature Request:&lt;/strong&gt; Add scheduling to &lt;a href=&quot;http://prose.io/&quot; title=&quot;Prose: A Web-based Content Editor for GitHub&quot;&gt;Prose&lt;/a&gt;. It would be sooooper sweet if Prose could detect that you are editing content in a “gh-pages” branch and offer the option to defer pushes until a specific point in the future. This would remove the entire deployment process &lt;em&gt;and&lt;/em&gt; you could write content from anywhere! Alas, the feature doesn’t exist.&lt;/p&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;It takes a little bit of work, but creating a system where you can schedule static site content has lots of perks. And even though manually deploying may only take a couple of minutes each time, avoiding the context switch and being able to step away from your computer for days or weeks are worth the time to avoid repeating yourself day after day with the same mundane task.&lt;/p&gt;

</description>
        <pubDate>Thu, 17 Mar 2016 00:00:00 -0400</pubDate>
      </item>
    
      <item>
        <title>Quickly Upgrade Your GitHub Pages Site to Jekyll 3</title>
        <link>http://technicalrex.com/upgrade-github-pages-site-to-jekyll-3/</link>
        <guid isPermaLink="true">http://technicalrex.com/upgrade-github-pages-site-to-jekyll-3/</guid>
        <description>&lt;p&gt;GitHub recently upgraded their &lt;a href=&quot;https://pages.github.com/&quot;&gt;GitHub Pages&lt;/a&gt; platform (a.k.a. free static site hosting!) from Jekyll 2.4 to Jekyll 3.0. They published an &lt;a href=&quot;https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0&quot;&gt;article about the changes&lt;/a&gt;, but it didn’t seem very comprehensive. After reading it, I generally felt like things should just continue to work… but they didn’t.&lt;/p&gt;

&lt;p&gt;I’ve since gone through four static sites and upgraded them to Jekyll 3. Here’s the quick and dirty version of what I had to do to get those sites looking pretty and working the way I expected them to.&lt;/p&gt;

&lt;h2 id=&quot;pagination&quot;&gt;Pagination&lt;/h2&gt;

&lt;p&gt;Let me start with the item that wasn’t covered in GitHub’s migration notes. If you were using pagination (aren’t we all?), then you may have noticed that the styles on your page look goofy, random Markdown shows up in your HTML, and you may even be getting this message in your logs:&lt;/p&gt;

&lt;div class=&quot;image-center&quot;&gt;
    
    &lt;img src=&quot;/img/posts/jekyll-paginate.jpg&quot; class=&quot;shadow&quot; /&gt;
    
    
&lt;/div&gt;

&lt;p&gt;If all this rings true, then add the following lines to the end of your &lt;code class=&quot;highlighter-rouge&quot;&gt;Gemfile&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:jekyll_plugins&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;jekyll-paginate&#39;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;If you want to use any other Jekyll plugins, put them in the &lt;code class=&quot;highlighter-rouge&quot;&gt;:jekyll_plugins&lt;/code&gt; group too. Be careful though, only certain plugins are supported by GitHub Pages!&lt;/p&gt;

&lt;h2 id=&quot;bundle&quot;&gt;Bundle&lt;/h2&gt;

&lt;p&gt;Regardless of whether you had to fix the &lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll-paginate&lt;/code&gt; issue, make sure to run &lt;code class=&quot;highlighter-rouge&quot;&gt;bundle update&lt;/code&gt;. This will make sure you are running the same version of the &lt;code class=&quot;highlighter-rouge&quot;&gt;github-pages&lt;/code&gt; gem (and all of its dependencies) as GitHub Pages itself.&lt;/p&gt;

&lt;h2 id=&quot;kramdown&quot;&gt;Kramdown&lt;/h2&gt;

&lt;p&gt;GitHub Pages now &lt;strong&gt;only&lt;/strong&gt; supports Kramdown as its Markdown processor. What does that mean to you?&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Remove the &lt;code class=&quot;highlighter-rouge&quot;&gt;markdown:&lt;/code&gt; property from your &lt;code class=&quot;highlighter-rouge&quot;&gt;_config.yml&lt;/code&gt; file.&lt;/li&gt;
  &lt;li&gt;If your pages look funky and you were using something besides Kramdown, add these lines to &lt;code class=&quot;highlighter-rouge&quot;&gt;_config.yml&lt;/code&gt;:&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;s&quot;&gt;kramdown&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;input&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;GFM&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;syntax-highlighting&quot;&gt;Syntax Highlighting&lt;/h2&gt;

&lt;p&gt;If you have code snippets on your blog, you should know that GitHub Pages now &lt;strong&gt;only&lt;/strong&gt; supports Rouge for making your snippets look pretty. Since only one highlighter is supported now, remove the &lt;code class=&quot;highlighter-rouge&quot;&gt;highlighter:&lt;/code&gt; property from your &lt;code class=&quot;highlighter-rouge&quot;&gt;_config.yml&lt;/code&gt; file.&lt;/p&gt;

&lt;h4 id=&quot;extra-credit&quot;&gt;Extra Credit&lt;/h4&gt;

&lt;p&gt;If you were using &lt;code class=&quot;highlighter-rouge&quot;&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;highlight&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;lang&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt; to declare code snippets in your Markdown files, you can instead use backticks:&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Before:&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
  {% highlight html %}
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;h1&amp;gt;&lt;/span&gt;Hello World!&lt;span class=&quot;nt&quot;&gt;&amp;lt;/h1&amp;gt;&lt;/span&gt;
  {% endhighlight %}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;After:&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
  &lt;span class=&quot;p&quot;&gt;```&lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;html&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;h1&amp;gt;&lt;/span&gt;Hello World!&lt;span class=&quot;nt&quot;&gt;&amp;lt;/h1&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;```&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;the-end&quot;&gt;The End&lt;/h2&gt;

&lt;p&gt;I hope you found what you were looking for. Happy hosting!&lt;/p&gt;

</description>
        <pubDate>Wed, 17 Feb 2016 00:00:00 -0500</pubDate>
      </item>
    
      <item>
        <title>Strip the Background from an Image</title>
        <link>http://technicalrex.com/strip-background-from-image/</link>
        <guid isPermaLink="true">http://technicalrex.com/strip-background-from-image/</guid>
        <description>&lt;p&gt;Lots of product photos are taken with a white background. So what do you do if you want to promote that product, but the white background of the image clashes with the non-white background of your website? In this tutorial I will show you some quick tricks to make the image background transparent so it looks more natural on your own site.&lt;/p&gt;

&lt;h2 id=&quot;software&quot;&gt;Software&lt;/h2&gt;

&lt;p&gt;Before we start, you need to know that this tutorial uses &lt;a href=&quot;http://www.gimp.org/downloads/&quot; title=&quot;Gimp Download Page&quot;&gt;Gimp&lt;/a&gt;, a completely free image editor. If you want to use Photoshop, you can follow the techniques outlined in this article, but the specific steps are written for a novice Gimp user.&lt;/p&gt;

&lt;p&gt;Install Gimp and you’re ready to rock.&lt;/p&gt;

&lt;h2 id=&quot;lets-get-started&quot;&gt;Let’s Get Started&lt;/h2&gt;

&lt;p&gt;Suppose you have an image saved to your computer named &lt;code class=&quot;highlighter-rouge&quot;&gt;product.jpg&lt;/code&gt;. Its original dimensions are 1000x1000 pixels. It will looks something like this:&lt;/p&gt;

&lt;div class=&quot;image-right&quot;&gt;
    
    &lt;img src=&quot;/img/posts/strip-background/product.jpg&quot; class=&quot;shadow&quot; /&gt;
    
    
&lt;/div&gt;

&lt;p&gt;The first step is to open your file in Gimp. Follow these instructions, step by step.&lt;/p&gt;

&lt;h4 id=&quot;open-file-in-gimp&quot;&gt;Open File in Gimp&lt;/h4&gt;

&lt;ol&gt;
  &lt;li&gt;Run Gimp.&lt;/li&gt;
  &lt;li&gt;Select &lt;code class=&quot;highlighter-rouge&quot;&gt;Open...&lt;/code&gt; from the &lt;code class=&quot;highlighter-rouge&quot;&gt;File&lt;/code&gt; menu.&lt;/li&gt;
  &lt;li&gt;A window titled “Open Image” will appear. Use this window to find the image on your computer.&lt;/li&gt;
  &lt;li&gt;Select the image and click Open.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Now Gimp should show the image. It will look something like this:&lt;/p&gt;

&lt;div class=&quot;image-center&quot;&gt;
    
    &lt;img src=&quot;/img/posts/strip-background/gimp-open-file.png&quot; class=&quot;no-shadow&quot; /&gt;
    
    
&lt;/div&gt;

&lt;h4 id=&quot;enable-transparency&quot;&gt;Enable Transparency&lt;/h4&gt;

&lt;p&gt;This step is critical if you want your background to be transparent. JPG files do not support transparency, and even if the image is a GIF or PNG, transparency may not be enabled.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Important Step:&lt;/strong&gt; To enable transparency, choose &lt;code class=&quot;highlighter-rouge&quot;&gt;Layer &amp;gt; Transparency &amp;gt; Add Alpha Channel&lt;/code&gt;. If the option is disabled or grayed out then transparency is already enabled.&lt;/p&gt;

&lt;h2 id=&quot;time-to-play-with-fire&quot;&gt;Time to Play with Fire&lt;/h2&gt;

&lt;p&gt;You are now ready to get rid of that pesky background! Depending on what the image looks like, there are several techniques you can use. Each technique below describes the situation when it may most effectively be used before stepping through the technique itself.&lt;/p&gt;

&lt;p&gt;Oh, make a backup copy of your image, just in case. Gimp also creates a long history of changes that you’ve made and you can choose &lt;code class=&quot;highlighter-rouge&quot;&gt;Edit &amp;gt; Undo&lt;/code&gt; numerous times if you make mistakes. Undo is your friend.&lt;/p&gt;

&lt;p&gt;After you apply any of the techniques below, take a close look at the region that was selected. If you’re not happy with the results, you can click on &lt;code class=&quot;highlighter-rouge&quot;&gt;Select &amp;gt; None&lt;/code&gt; and try again.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Cut the Selection:&lt;/strong&gt; The final step in every one of the techniques below is to&lt;/p&gt;

&lt;h3 id=&quot;technique-1-fuzzy-select&quot;&gt;Technique 1: Fuzzy Select&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;Use this technique&lt;/strong&gt; where the background is one solid color. If there are shadows that you would like to get rid of, you can use the Fuzzy Select technique to remove most of the background and then use one of the other techniques to remove the shadows.&lt;/p&gt;

&lt;p&gt;The Fuzzy Select tool takes the color of the area where you clicked and selects as much of that color in one large, contiguous area as possible. You can also adjust the color Threshold for this tool to select more or fewer shades of a color.&lt;/p&gt;

&lt;p&gt;This seems like a good first technique to try on the white background of our image. Let’s give it a shot.&lt;/p&gt;

&lt;h4 id=&quot;use-the-fuzzy-select-tool&quot;&gt;Use the Fuzzy Select Tool&lt;/h4&gt;

&lt;ol&gt;
  &lt;li&gt;In the tool panel on the left, click on the Fuzzy Select icon &lt;img src=&quot;/img/posts/strip-background/fuzzy-select.jpg&quot; alt=&quot;&quot; title=&quot;Fuzzy Select Tool&quot; /&gt;.&lt;/li&gt;
  &lt;li&gt;Click in the large white area in the upper left of the image.&lt;/li&gt;
  &lt;li&gt;Look closely at the selection and decided if it is good enough.&lt;/li&gt;
  &lt;li&gt;If the selection looks nice and tight, select &lt;code class=&quot;highlighter-rouge&quot;&gt;Edit &amp;gt; Cut&lt;/code&gt; to delete the selection.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Here’s what the cleared selection looks like on our image using a Threshold of 15.0:&lt;/p&gt;

&lt;div class=&quot;image-center&quot;&gt;
    
    &lt;img src=&quot;/img/posts/strip-background/gimp-fuzzy-product-15.png&quot; class=&quot;no-shadow&quot; /&gt;
    
    
&lt;/div&gt;

&lt;h4 id=&quot;select-more-with-the-fuzzy-select-tool&quot;&gt;Select More with the Fuzzy Select Tool&lt;/h4&gt;

&lt;p&gt;Fuzzy Select worked pretty well, but if you look closely around the robots’ shoulders, you can see there is a little bit of white between the selection boundary and the red/blue of the robots.&lt;/p&gt;

&lt;p&gt;Increase the Threshold to select more:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Choose &lt;code class=&quot;highlighter-rouge&quot;&gt;Select &amp;gt; None&lt;/code&gt; or &lt;code class=&quot;highlighter-rouge&quot;&gt;Edit &amp;gt; Undo Fuzzy Select&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;Increase the Threshold value by 5.0 (to 20.0): &lt;img src=&quot;/img/posts/strip-background/threshold-20.jpg&quot; alt=&quot;&quot; title=&quot;Threshold 20.0&quot; /&gt;&lt;/li&gt;
  &lt;li&gt;Repeat the “Use the Fuzzy Select Tool” steps.&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;image-center&quot;&gt;
    
    &lt;img src=&quot;/img/posts/strip-background/gimp-fuzzy-product-20.png&quot; class=&quot;no-shadow&quot; /&gt;
    
    
&lt;/div&gt;

&lt;p&gt;The selection wraps most of the robot quite snuggly now. There’s still the matter of those shadows below the game, and there is a little bit of white still clinging to the outline of the robots, but we’ll take care of those soon.&lt;/p&gt;

&lt;h4 id=&quot;select-less-with-the-fuzzy-select-tool&quot;&gt;Select Less with the Fuzzy Select Tool&lt;/h4&gt;

&lt;p&gt;In certain situations the Fuzzy Select tool will select too much. For example, if you try to fuzzy select the background between the ropes on the right side of the game, you will see that some of the rope is selected, too. That’s because the ropes there are close enough in color to the background that the tool can’t differentiate the two.&lt;/p&gt;

&lt;p&gt;Try decreasing the Threshold to select less:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Choose &lt;code class=&quot;highlighter-rouge&quot;&gt;Select &amp;gt; None&lt;/code&gt; or &lt;code class=&quot;highlighter-rouge&quot;&gt;Edit &amp;gt; Undo Fuzzy Select&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;Decrease the Threshold value by 5.0 (to 10.0): &lt;img src=&quot;/img/posts/strip-background/threshold-10.jpg&quot; alt=&quot;&quot; title=&quot;Threshold 10.0&quot; /&gt;&lt;/li&gt;
  &lt;li&gt;Repeat the “Use the Fuzzy Select Tool” steps.&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;image-center&quot;&gt;
    
    &lt;img src=&quot;/img/posts/strip-background/fuzzy-select-threshold-comparison.png&quot; class=&quot;no-shadow&quot; /&gt;
    
    
&lt;/div&gt;

&lt;p&gt;Decreasing the Threshold will help sometimes, but not always. In the image above, you can see that the rope does not get selected when the Threshold is lowered to 10.0, but you can see a shark tooth effect on the selection that was made, so it’s not always the perfect solution, either.&lt;/p&gt;

&lt;p&gt;Fortunately, the techniques below offer some better alternatives to removing the background when you have similarly-colored content that you want to keep.&lt;/p&gt;

&lt;h3 id=&quot;technique-2-scissor-select&quot;&gt;Technique 2: Scissor Select&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;Use the Scissor Select technique&lt;/strong&gt; if your subject has a lot of contrast with the background and long, gently-curved edges. Brightly-colored objects such as games, toys, and clothes on a light or dark background work well.&lt;/p&gt;

&lt;p&gt;The Scissor Select tool attempts to find edges near where you clicked and trace that border as you continue to click. When you use the tool, click on the edges anywhere that the object being selected has a sharp angle or change in color.&lt;/p&gt;

&lt;p&gt;While you are using the tool, you can also click and drag on any of the lines that have already been drawn and adjust them. Gimp will add an additional guide point where you clicked and try to detect the edges again from where you moved the line.&lt;/p&gt;

&lt;p&gt;Let’s use the Scissor Select tool on the shadows below the product that fuzzy select didn’t do so well on.&lt;/p&gt;

&lt;h4 id=&quot;use-the-scissor-select-tool&quot;&gt;Use the Scissor Select Tool&lt;/h4&gt;

&lt;ol&gt;
  &lt;li&gt;In the tool panel on the left, click on the Scissor Select icon &lt;img src=&quot;/img/posts/strip-background/scissor-select.jpg&quot; alt=&quot;&quot; title=&quot;Scissor Select Tool&quot; /&gt;.&lt;/li&gt;
  &lt;li&gt;Click on an edge in the middle of where you want your selection to begin. In our image, the very lowest point of the yellow base is a good place to start.&lt;/li&gt;
  &lt;li&gt;Click on the next point along the edge that has a change in color or direction.&lt;/li&gt;
  &lt;li&gt;Continue clicking around the area that you want to remove. You can also click across the transparent, checkered areas and around the edge of the image.&lt;/li&gt;
  &lt;li&gt;When you are nearing the point where you started, click on the starting point to close your selection area.&lt;/li&gt;
  &lt;li&gt;Look closely at the selection points and lines. You can click and drag to adjust any of them at this point.&lt;/li&gt;
  &lt;li&gt;Click in the middle of the area you want to select to make the selection active.&lt;/li&gt;
  &lt;li&gt;Shrink the selection a little bit to leave some of the background in place.&lt;br /&gt;
a. Click on &lt;code class=&quot;highlighter-rouge&quot;&gt;Select &amp;gt; Shrink...&lt;/code&gt; in the menu.&lt;br /&gt;
b. In the window that appears, enter 1 or 2 px and click OK.&lt;/li&gt;
  &lt;li&gt;Select &lt;code class=&quot;highlighter-rouge&quot;&gt;Edit &amp;gt; Cut&lt;/code&gt; to delete the selection.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Here’s what the pre-selection area looks like, just before Step 7:&lt;/p&gt;

&lt;div class=&quot;image-center&quot;&gt;
    
    &lt;img src=&quot;/img/posts/strip-background/gimp-scissor-preselect-product.png&quot; class=&quot;no-shadow&quot; /&gt;
    
    
&lt;/div&gt;

&lt;p&gt;And here’s what the image looks like after shrinking and cutting the selection:&lt;/p&gt;

&lt;div class=&quot;image-center&quot;&gt;
    
    &lt;img src=&quot;/img/posts/strip-background/gimp-scissor-cut-product.png&quot; class=&quot;no-shadow&quot; /&gt;
    
    
&lt;/div&gt;

&lt;p&gt;Not bad! The edges look even nicer than what the Fuzzy Select left us with, but imagine how much clicking you would have to do to use the Scissor Select tool on the whole image!&lt;/p&gt;

&lt;h3 id=&quot;technique-3-polygon-select&quot;&gt;Technique 3: Polygon Select&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;Use the Polygon Select technique&lt;/strong&gt; if the subject of your photo is rigid or has lots of straight edges. Boxes, cards, books and other polygonally-shaped objects are perfect for this technique.&lt;/p&gt;

&lt;p&gt;Look for regions of the background that have straight edges on all sides. In our example, several of the spaces between the ropes and the ring look like perfect triangles and diamonds. Let’s use the Polygon Select tool on those.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;In the tool panel on the left, click on the Free Select icon &lt;img src=&quot;/img/posts/strip-background/free-select.jpg&quot; alt=&quot;&quot; title=&quot;Free Select Tool&quot; /&gt;.&lt;/li&gt;
  &lt;li&gt;Carefully click on all of the corners of the background region that you wish to delete.&lt;/li&gt;
  &lt;li&gt;When you want to close your selection, click on the point that started your selection.&lt;/li&gt;
  &lt;li&gt;Look closely at the selection and decided if it is good enough.&lt;/li&gt;
  &lt;li&gt;If the selection looks nice and tight, select &lt;code class=&quot;highlighter-rouge&quot;&gt;Edit &amp;gt; Cut&lt;/code&gt; to delete the selection.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Here’s what our image looks like after deleting a few of the polygonal areas in the middle of the game:&lt;/p&gt;

&lt;div class=&quot;image-center&quot;&gt;
    
    &lt;img src=&quot;/img/posts/strip-background/gimp-polygon-cut-product.png&quot; class=&quot;no-shadow&quot; /&gt;
    
    
&lt;/div&gt;

&lt;h3 id=&quot;cut-the-rest&quot;&gt;Cut the Rest&lt;/h3&gt;

&lt;p&gt;With these three techniques, we can finish removing the background from the image. For the regions below the bottom rope, I recommend using the Fuzzy Select so as not to accidentally remove pieces of the rope.&lt;/p&gt;

&lt;p&gt;For the remaining pieces of background, the Polygon Select will probably require the least amount of clicking and adjusting.&lt;/p&gt;

&lt;p&gt;Here’s what I ended up with. Keep reading to see how to clean up those edges.&lt;/p&gt;

&lt;div class=&quot;image-center&quot;&gt;
    
    &lt;img src=&quot;/img/posts/strip-background/gimp-totally-cut-product.png&quot; class=&quot;no-shadow&quot; /&gt;
    
    
&lt;/div&gt;

&lt;p&gt;If you want to trim any of the white off of the edges, you can do so now. If you’re going for quick and dirty, just follow the steps below to smooth the edges.&lt;/p&gt;

&lt;h2 id=&quot;smooth-the-edges&quot;&gt;Smooth the Edges&lt;/h2&gt;

&lt;p&gt;The background has been removed, sure, but there are still little remnants of the white background around the edges of the product. Here’s a poor man’s trick for getting rid of the rest of the background and smoothing the edges of our product all at once.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Click on the Fuzzy Select icon &lt;img src=&quot;/img/posts/strip-background/fuzzy-select.jpg&quot; alt=&quot;&quot; title=&quot;Fuzzy Select Tool&quot; /&gt;.&lt;/li&gt;
  &lt;li&gt;Hold the Shift key and click on every transparent background region.&lt;/li&gt;
  &lt;li&gt;Click on &lt;code class=&quot;highlighter-rouge&quot;&gt;Select &amp;gt; Grow..&lt;/code&gt; in the menu.&lt;/li&gt;
  &lt;li&gt;In the window that appears, choose 2 px and click OK.&lt;/li&gt;
  &lt;li&gt;Click on &lt;code class=&quot;highlighter-rouge&quot;&gt;Filters &amp;gt; Blur &amp;gt; Gaussian Blur...&lt;/code&gt; in the menu.&lt;/li&gt;
  &lt;li&gt;In the window that appears, enter 5.0 px for both the Horizontal and Vertical Blur Radius values and click OK.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;The resulting image still has hints of white, but overall it doesn’t look that bad.&lt;/p&gt;

&lt;div class=&quot;image-center&quot;&gt;
    
    &lt;img src=&quot;/img/posts/strip-background/gimp-smooth-product.png&quot; class=&quot;no-shadow&quot; /&gt;
    
    
&lt;/div&gt;

&lt;h2 id=&quot;resize-the-image&quot;&gt;Resize the Image&lt;/h2&gt;

&lt;p&gt;The last step before saving the image is to resize it. Shrinking the image will get rid of the ghostly effect that smoothing the edges caused, and it will further eliminate artifacts of the original background color.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Click on &lt;code class=&quot;highlighter-rouge&quot;&gt;Image &amp;gt; Scale Image...&lt;/code&gt; in the menu.&lt;/li&gt;
  &lt;li&gt;In the window that appears, do the following:&lt;br /&gt;
a. Enter the Width that you would like your new image to be. The Height will automatically adjust proportionally to the Width you enter, so leave it alone.&lt;br /&gt;
b. Enter 72 as the X Resolution. The Y Resolution will automatically adjust to match the X Resolution, so leave it alone.&lt;br /&gt;
c. Click OK.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;For our example, I chose 300 px as the Width and got the following:&lt;/p&gt;

&lt;div class=&quot;image-center&quot;&gt;
    
    &lt;img src=&quot;/img/posts/strip-background/gimp-resized-product.png&quot; class=&quot;no-shadow&quot; /&gt;
    
    
&lt;/div&gt;

&lt;h2 id=&quot;export-the-file&quot;&gt;Export the File&lt;/h2&gt;

&lt;p&gt;It’s tough to really know how well you did until you save your work and use the image somewhere. Use the following steps to save your work:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Click on &lt;code class=&quot;highlighter-rouge&quot;&gt;File &amp;gt; Export As...&lt;/code&gt; in the menu.&lt;/li&gt;
  &lt;li&gt;Navigate to the folder where you would like to save the image.&lt;/li&gt;
  &lt;li&gt;Enter “product.png” as the Name of the file and click Export. Using the file extension “.png” is &lt;strong&gt;important&lt;/strong&gt;!&lt;/li&gt;
  &lt;li&gt;In the window that appears, just click Export.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;You can now use the image wherever you want and it will automatically inherit the background on which it is placed!&lt;/p&gt;

&lt;p&gt;Here’s the result of our work placed next to the original. It’s not perfect, but it’s pretty good and usually that’s all that matters!&lt;/p&gt;

&lt;div class=&quot;image-center&quot;&gt;
    
    &lt;img src=&quot;/img/posts/strip-background/product.png&quot; class=&quot;no-shadow&quot; /&gt;
    
    
&lt;/div&gt;

&lt;h2 id=&quot;bonus-shadows&quot;&gt;Bonus: Shadows&lt;/h2&gt;

&lt;p&gt;Do you miss those shadows? Me too. Let’s add some back in!&lt;/p&gt;

&lt;p&gt;Those shadows make the images pop, give the page a sense of depth, and they can even cover up some of the flaws remaining from when we removed the solid background color.&lt;/p&gt;

&lt;p&gt;The steps to add a shadow are pretty straight forward:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Click on &lt;code class=&quot;highlighter-rouge&quot;&gt;Filters &amp;gt; Light and Shadow &amp;gt; Drop Shadow...&lt;/code&gt; in the menu.&lt;/li&gt;
  &lt;li&gt;In the window that appears, do the following:&lt;br /&gt;
a. Enter 4 as the Offset X and Offset Y.&lt;br /&gt;
b. Enter 15 as the Blur Radius.&lt;br /&gt;
c. Use black as the Color.&lt;br /&gt;
d. Enter 60 as the Opacity.&lt;br /&gt;
e. Click OK.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Adding a shadow may change the size of your image. Follow the steps in “Resize the Image” to get back to the image dimensions that you would like to use.&lt;/p&gt;

&lt;p&gt;Here’s what the image looks like with a shadow. Pretty sweet!&lt;/p&gt;

&lt;div class=&quot;image-center&quot;&gt;
    
    &lt;img src=&quot;/img/posts/strip-background/product-shadowed.png&quot; class=&quot;no-shadow&quot; /&gt;
    
    
&lt;/div&gt;

</description>
        <pubDate>Thu, 14 Jan 2016 00:00:00 -0500</pubDate>
      </item>
    
      <item>
        <title>What&#39;s in a Landing Page?</title>
        <link>http://technicalrex.com/whats-in-a-landing-page/</link>
        <guid isPermaLink="true">http://technicalrex.com/whats-in-a-landing-page/</guid>
        <description>&lt;p&gt;Last week Technical Rex launched its latest project: &lt;a href=&quot;http://givingjar.org/&quot; title=&quot;Giving Jar Landing Page&quot;&gt;Giving Jar&lt;/a&gt;. Right now the landing page for Giving Jar looks pretty basic: some markety text, a pretty picture, and a place to sign up for a newsletter. There’s more than meets the eye on that page, though, and creating it was quite the expedition.&lt;/p&gt;

&lt;p&gt;Many discoveries were made, there were several pitfalls, and good notes were taken so a map could be made. I share this map with you now so that you don’t have to repeat the voyage without a guide.&lt;/p&gt;

&lt;h2 id=&quot;what-is-a-landing-page&quot;&gt;What is a Landing Page?&lt;/h2&gt;

&lt;p&gt;A &lt;em&gt;landing page&lt;/em&gt; is web page that is typically arrived upon by clicking an advertisement, Internet search result, or other marketing campaign link. Its purpose is to promote a product or service in such a mind-blowing way that any visitor who so much as looks at the page will have no choice but to sign up to be the next early adopter, fanboy (or fangirl), or… sales lead.&lt;/p&gt;

&lt;p&gt;In other words, a &lt;em&gt;landing page&lt;/em&gt; gets people excited about something new on the Internet.&lt;/p&gt;

&lt;p&gt;The landing page I created for Giving Jar announced that a new service is being built and anyone interested could sign up for a newsletter to get charity interviews and updates about how Giving Jar is coming along.&lt;/p&gt;

&lt;h2 id=&quot;on-a-desktop-computer&quot;&gt;On a Desktop Computer&lt;/h2&gt;

&lt;p&gt;Here’s a screenshot of the whole Giving Jar landing page. The labels identify the important bits, and you can read more about each one in the list below the image.&lt;/p&gt;

&lt;div class=&quot;image-center&quot;&gt;
    
    &lt;img src=&quot;/img/posts/landing-page/givingjar-landing-page-desktop.jpg&quot; class=&quot;shadow&quot; /&gt;
    
    
&lt;/div&gt;

&lt;h4 id=&quot;logo&quot;&gt;1. Logo&lt;/h4&gt;

&lt;p&gt;An easy-to-recognize symbol to represent your product or service. An SVG logo is easy to scale to any surface and transform in all sorts of creative ways.&lt;/p&gt;

&lt;h4 id=&quot;name&quot;&gt;2. Name&lt;/h4&gt;

&lt;p&gt;The name of your product or service. Make it the first item in the navigation bar up top, next to the logo, so visitors see it first and can find their way home if they wander away.&lt;/p&gt;

&lt;h4 id=&quot;navigation-bar&quot;&gt;3. Navigation Bar&lt;/h4&gt;

&lt;p&gt;Link to an &lt;em&gt;About&lt;/em&gt; page where visitors can read more details about the business. The &lt;em&gt;Contact&lt;/em&gt; can link to an email address or contact form, but it should offer a way for visitors to ask questions. A &lt;em&gt;Blog&lt;/em&gt; is an easy way to provide regular updates to visitors who don’t want to sign up for anything right away.&lt;/p&gt;

&lt;h4 id=&quot;social-links&quot;&gt;4. Social Links&lt;/h4&gt;

&lt;p&gt;Use social media to promote your product and business. Make sure they’re always visible. Use icons instead of words to make them easier to recognize (and take up less space). &lt;a href=&quot;http://fontawesome.io/&quot; title=&quot;Font Awesome Icon Set&quot;&gt;Font Awesome&lt;/a&gt; has a great collection of such icons.&lt;/p&gt;

&lt;h4 id=&quot;headlinetagline&quot;&gt;5. Headline/Tagline&lt;/h4&gt;

&lt;p&gt;Make a good first impression by placing a catchy phrase and brief description of the product or service front and center on your landing page. If this tag line isn’t great then a visitor probably won’t bother reading any further into your page.&lt;/p&gt;

&lt;h4 id=&quot;attractive-imagery&quot;&gt;6. Attractive Imagery&lt;/h4&gt;

&lt;p&gt;Use a beautiful image or video to help visitors relate to the product or service you are offering. It should stir a positive emotion of some kind and keep people focused on your page.&lt;/p&gt;

&lt;h4 id=&quot;call-to-action&quot;&gt;7. Call to Action&lt;/h4&gt;

&lt;p&gt;This button or small form should be clearly visible on the page and minimize the barrier required for a visitor to act. The last words before the call to action should be a small reminder of what they are getting in return for providing an email address or phone number.&lt;/p&gt;

&lt;h4 id=&quot;visual-cues&quot;&gt;8. Visual Cues&lt;/h4&gt;

&lt;p&gt;The landing page should look complete without scrolling. Use as much of the vertical space as possible and offer visual cues anywhere that the visitor needs to do something to see more. The arrow on the Giving Jar page is gently bouncing to indicate that there is more below the main image. A visitor can click it or scroll to see more.&lt;/p&gt;

&lt;h4 id=&quot;brief-description&quot;&gt;9. Brief Description&lt;/h4&gt;

&lt;p&gt;Briefly describe (readable in 30 seconds) the key features or values of your product or service. Expand on the headline and break up each point them easier to consume. Add a splash of color so it doesn’t look like a wall of text.&lt;/p&gt;

&lt;h4 id=&quot;footer&quot;&gt;10. Footer&lt;/h4&gt;

&lt;p&gt;Include navigation and social media links, but don’t make them stand out as much as the navigation bar at the top of the page. This is also where the copyright, links to businesses behind the product, Terms of Service, Privacy Policy, and Press Kit typically go.&lt;/p&gt;

&lt;h2 id=&quot;on-a-small-screen&quot;&gt;On a Small Screen&lt;/h2&gt;

&lt;p&gt;The landing page for a mobile phone will look much different. Besides the obvious decrease in screen size, you will now have much less horizontal real estate than vertical. Fortunately, CSS media queries and some minor adjustments to your HTML can make your landing page beautiful again.&lt;/p&gt;

&lt;p&gt;If you designed your landing page mobile-first then you will probably still need to make some adjustments, but instead of thinking about how to trim back, you can think of how to expand and add content.&lt;/p&gt;

&lt;div class=&quot;image-right&quot;&gt;
    
    &lt;img src=&quot;/img/posts/landing-page/givingjar-landing-page-mobile.jpg&quot; class=&quot;shadow&quot; /&gt;
    
    
&lt;/div&gt;

&lt;h4 id=&quot;logo-and-name&quot;&gt;1. Logo and Name&lt;/h4&gt;

&lt;p&gt;The logo and product/service name may be all that fits width-wise on a small screen. Be prepared to toss the rest of your navigation links.&lt;/p&gt;

&lt;h4 id=&quot;collapsible-menu&quot;&gt;2. Collapsible Menu&lt;/h4&gt;

&lt;p&gt;A hamburger icon is generally understood as an interactive, collapsible menu. Any navigation and social media links that didn’t fit in the navigation bar can be placed in here, but don’t make the menu too tall.&lt;/p&gt;

&lt;h4 id=&quot;visible-content&quot;&gt;3. Visible Content&lt;/h4&gt;

&lt;p&gt;You may have to adjust some styles to make the headline and other text easier to read. Consider changing font colors or putting a translucent background behind the content to keep the content standing out like it should.&lt;/p&gt;

&lt;h4 id=&quot;smaller-imagery&quot;&gt;4. Smaller Imagery&lt;/h4&gt;

&lt;p&gt;Smaller devices can often mean smaller bandwidth. Create a smaller resolution version of the background image to use on smaller screens so the page still loads quickly.&lt;/p&gt;

&lt;h4 id=&quot;friendly-forms&quot;&gt;5. Friendly Forms&lt;/h4&gt;

&lt;p&gt;Use HTML 5 input types such as “email” and “tel” to provide a more convenient keyboard that visitors can use to quickly enter the information you are requesting.&lt;/p&gt;

&lt;h4 id=&quot;vertical-description&quot;&gt;6. Vertical Description&lt;/h4&gt;

&lt;p&gt;If you broke your product/service description up into small pieces as suggested in #9 above, this part will be easy. Make the blocks wrap on small screens and they will automatically arrange themselves vertically. You can get rid of horizontal separators in this case, too.&lt;/p&gt;

&lt;h4 id=&quot;minimal-footer&quot;&gt;7. Minimal Footer&lt;/h4&gt;

&lt;p&gt;The footer will have the same limitations as the top navigation bar because of the width of the screen. A collapsible menu at the bottom of the page is weird, so get rid of all unnecessary items that are already available in the menu up top.&lt;/p&gt;

&lt;h2 id=&quot;link-destinations&quot;&gt;Link Destinations&lt;/h2&gt;

&lt;p&gt;A visitor’s whole experience at your landing page should be great. Not only does the landing page have to look amazing, all of the pages that you link to from the landing page need to look good, too. Fortunately, you can reuse many of the visual assets used to create your landing page.&lt;/p&gt;

&lt;p&gt;Here are some quick tips for polishing the pages your visitor might wind up at.&lt;/p&gt;

&lt;h4 id=&quot;social-media-sites-like-facebook-and-twitter&quot;&gt;Social Media Sites like Facebook and Twitter&lt;/h4&gt;

&lt;p&gt;Your logo is a symbol that people see and immediately associate with your business, so use that as your profile photo on social media sites.&lt;/p&gt;

&lt;p&gt;An easy way to create a banner image is to crop or scale the background image from your landing page. Each social media site’s banner uses different dimensions and many blog articles tell you out-of-date dimensions. Go to the social media site and use your browser’s developer tools to inspect the banner and get the current dimensions.&lt;/p&gt;

&lt;div class=&quot;image-center&quot;&gt;
    
    &lt;img src=&quot;/img/posts/landing-page/givingjar-facebook.jpg&quot; class=&quot;shadow&quot; /&gt;
    
    
&lt;/div&gt;

&lt;p&gt;Use a variation of your headline/tagline in your profile description and link to your landing page from each social media site.&lt;/p&gt;

&lt;p&gt;Finally, post to your social media accounts regularly! If someone finds their way to your Twitter page and it’s a barren wasteland or hasn’t been used in months you will immediately lose credibility. It’s easy to use &lt;a href=&quot;https://buffer.com&quot; title=&quot;Buffer Homepage&quot;&gt;Buffer&lt;/a&gt; and &lt;a href=&quot;https://www.google.com/alerts&quot; title=&quot;Google Alerts&quot;&gt;Google Alerts&lt;/a&gt; to queue up a steady stream of news related to your line of business.&lt;/p&gt;

&lt;h4 id=&quot;about-page&quot;&gt;About Page&lt;/h4&gt;

&lt;p&gt;If wants to know more about your product than what the landing page provides, the &lt;em&gt;About&lt;/em&gt; page will likely be their next destination. Provide a description of the product or service that can be read in a couple of minutes (about 200 words).&lt;/p&gt;

&lt;p&gt;Since there is a noticeable increase in the amount of text on this page, you may want to eliminate other distractions on the page such as images and links.&lt;/p&gt;

&lt;h4 id=&quot;blog&quot;&gt;Blog&lt;/h4&gt;

&lt;p&gt;Offering a blog with regular written content is a cheap and easy way to offer product updates and what your business has learned recently. Feeling informed and learning about the challenges you face are two things early adopters and fans love!&lt;/p&gt;

&lt;div class=&quot;image-center&quot;&gt;
    
    &lt;img src=&quot;/img/posts/landing-page/givingjar-blog.jpg&quot; class=&quot;shadow&quot; /&gt;
    
    
&lt;/div&gt;

&lt;p&gt;Regardless of which blogging platform you choose, there are bound to be lots and lots of amazing looking themes. Pick a theme with a clean, professional look, minimalist color scheme, and elegant typography. Make sure the theme looks good on a mobile phone and can link to your social media accounts. People love to read and get lost in social media before bed.&lt;/p&gt;

&lt;p&gt;Like social media pages, make sure you are posting to the blog regularly. Blogs contain longer content, so there’s an expectation that it won’t be updated as frequently. Shoot for once a month to start.&lt;/p&gt;

&lt;h2 id=&quot;behind-the-scenes&quot;&gt;Behind the Scenes&lt;/h2&gt;

&lt;p&gt;Visually, your landing page should be in good shape. Functionally, that’s a different story.&lt;/p&gt;

&lt;p&gt;Your landing page should be easy to share. Analytics will be invaluable for discovering how many visitors view your page versus how many complete the call to action. Oh, and that call to action needs to do something. And lastly, you need a domain and server where the page can be hosted!&lt;/p&gt;

&lt;h4 id=&quot;pretty-page-previews&quot;&gt;Pretty Page Previews&lt;/h4&gt;

&lt;p&gt;When you or anyone else shares a link to the landing page, you can make a little preview of it appear in most social media sites. Do this by adding &lt;code class=&quot;highlighter-rouge&quot;&gt;meta&lt;/code&gt; tags to the &lt;code class=&quot;highlighter-rouge&quot;&gt;head&lt;/code&gt; element of every HTML file you expect people to share.&lt;/p&gt;

&lt;div class=&quot;image-center&quot;&gt;
    
    &lt;img src=&quot;/img/posts/landing-page/givingjar-share.png&quot; class=&quot;shadow&quot; /&gt;
    
    
&lt;/div&gt;

&lt;p&gt;Here’s what Giving Jar’s &lt;code class=&quot;highlighter-rouge&quot;&gt;meta&lt;/code&gt; tag set looks like:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-html&quot; data-lang=&quot;html&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;head&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;meta&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;charset=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;utf-8&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;

    &lt;span class=&quot;nt&quot;&gt;&amp;lt;meta&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;description&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;content=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Giving Jar is a platform that makes it convenient to donate to the charity of your choice online.&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;meta&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;viewport&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;content=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;width=device-width, initial-scale=1&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;

    &lt;span class=&quot;nt&quot;&gt;&amp;lt;meta&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;property=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;og:type&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;content=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;article&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;meta&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;property=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;og:title&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;content=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Giving Jar&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;meta&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;property=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;og:url&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;content=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;http://givingjar.org&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;meta&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;property=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;og:description&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;content=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Giving Jar is a platform that makes it convenient to donate to the charity of your choice online.&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;meta&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;property=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;article:published_time&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;content=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;2015-11-16T00:00:00-00:00&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;meta&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;property=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;article:modified_time&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;content=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;2015-11-16T00:00:00-00:00&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;meta&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;property=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;og:site_name&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;content=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Giving Jar&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;meta&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;property=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;og:locale&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;content=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;en_US&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;meta&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;property=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;og:image&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;content=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;http://givingjar.org/images/giving-jar-icon-196.png&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;

    &lt;span class=&quot;nt&quot;&gt;&amp;lt;meta&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;twitter:card&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;content=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;summary&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;meta&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;twitter:site&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;content=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;@givingjar&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;meta&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;twitter:creator&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;content=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;@givingjar&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;&amp;lt;!-- Rest of head goes here. --&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/head&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;These tags will make Facebook, Twitter, Google Plus, and a handful of other social media sites show a little preview of your site when a link is shared. You can control the image, title, and text by adjusting the &lt;code class=&quot;highlighter-rouge&quot;&gt;og:image&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;og:title&lt;/code&gt;, and &lt;code class=&quot;highlighter-rouge&quot;&gt;og:description&lt;/code&gt; content, respectively.&lt;/p&gt;

&lt;h4 id=&quot;analyze-this&quot;&gt;Analyze This!&lt;/h4&gt;

&lt;p&gt;These days, capturing site traffic data is pretty easy. I use &lt;a href=&quot;http://www.google.com/analytics/&quot; title=&quot;Google Analytics&quot;&gt;Google Analytics&lt;/a&gt; to analyze landing page traffic because it’s free, easy enough, and I already had a Google account. Feel free to try something else, though. Most of them work very similarly.&lt;/p&gt;

&lt;div class=&quot;image-center&quot;&gt;
    
    &lt;img src=&quot;/img/posts/landing-page/givingjar-analytics.jpg&quot; class=&quot;shadow&quot; /&gt;
    
    
&lt;/div&gt;

&lt;p&gt;The first step will be to create a new tracker in whichever tool you use. When you create the tracker, usually you are provided a snippet of JavaScript that you can embed on all of your HTML pages. Once you do that, go back to the tracker’s dashboard and start watching people pour into your site!&lt;/p&gt;

&lt;h4 id=&quot;make-the-call-to-action-work&quot;&gt;Make the Call to Action Work&lt;/h4&gt;

&lt;p&gt;If you don’t have a server to capture form input then you will need to use some other service to capture visitor sign-ups for you.&lt;/p&gt;

&lt;p&gt;Giving Jar’s call to action is a newsletter that visitors can subscribe to. &lt;a href=&quot;http://mailchimp.com/&quot; title=&quot;Mail Chimp Homepage&quot;&gt;Mail Chimp&lt;/a&gt; offers free mailing lists and a way to allow anyone who’s not a robot to subscribe. Toss in a jQuery plugin that keeps the visitor on the landing page instead of bouncing them over to a Mail Chimp website, and you’ve got yourself a nice mailing list signup experience!&lt;/p&gt;

&lt;p&gt;If you don’t need a newsletter, but you still want to collect a little bit of info about a visitor, there are services to do that for you (and for free). Try &lt;a href=&quot;https://www.google.com/forms/&quot; title=&quot;Google Forms&quot;&gt;Google Forms&lt;/a&gt;, &lt;a href=&quot;https://www.surveymonkey.com/&quot; title=&quot;Survey Monkey&quot;&gt;Survey Monkey&lt;/a&gt;, or &lt;a href=&quot;http://www.wufoo.com/&quot; title=&quot;Wufoo Forms Homepage&quot;&gt;Wufoo&lt;/a&gt; (an offshoot of Survey Monkey).&lt;/p&gt;

&lt;h4 id=&quot;serve-it-up&quot;&gt;Serve It Up&lt;/h4&gt;

&lt;p&gt;The last few steps involve hosting your landing page on the Internet somewhere.&lt;/p&gt;

&lt;p&gt;There are a few free static site hosts. I’m a big fan of &lt;a href=&quot;https://pages.github.com/&quot; title=&quot;GitHub Pages&quot;&gt;GitHub Pages&lt;/a&gt; and &lt;a href=&quot;https://surge.sh/&quot; title=&quot;Surge Homepage&quot;&gt;Surge&lt;/a&gt;. GitHub Pages operates off of a version-controlled repository and requires using Git, which isn’t beginner-friendly but is an invaluable system for managing your site. Surge lets you upload a directory from your computer in one command. It’s very easy to use. Both let you use a custom domain name. Of course, feel free to try something else if you’re the adventurous type.&lt;/p&gt;

&lt;p&gt;If you purchased a domain name, go to the dashboard where you can update your DNS settings and add the appropriate A and CNAME records to point at the server that hosts your files. Both GitHub Pages and Surge offer detailed instructions for how to do this. After you make the DNS changes, you may have to wait a day for your site to be available on your domain.&lt;/p&gt;

&lt;p&gt;You may want to consider setting up email accounts on your domain name, too. This step is optional, but it adds a little bit of legitimacy to your site if someone sends an email to “you@yourdomain.com” instead of “yourdomain@gmail.com”. &lt;a href=&quot;https://www.zoho.com/&quot; title=&quot;Zoho Homepage&quot;&gt;Zoho&lt;/a&gt; offers free email services on your own domain for a limited number of users. Beyond that you should consider &lt;a href=&quot;https://apps.google.com/&quot; title=&quot;Google Apps&quot;&gt;Google Apps&lt;/a&gt;. It’s not free, but for about $4 per month per email account, it’s pretty reasonably priced.&lt;/p&gt;

&lt;h2 id=&quot;you-made-it&quot;&gt;You Made It!&lt;/h2&gt;

&lt;p&gt;I’m proud of you for reading this whole article, it wasn’t short! Give yourself a high five.&lt;/p&gt;

&lt;p&gt;In all seriousness, though, I trudged through figuring out all of these little pieces that make up a landing page and had to share it all. I knew it was a lot of information, but it also would have been great knowing that there’s a lot more to a landing page than a dash of HTML and CSS.&lt;/p&gt;

&lt;p&gt;Of course, if your eyes are bulging out of your head because of the amount of work involved with making your own landing page, there’s always &lt;a href=&quot;http://www.squarespace.com/coverpage&quot; title=&quot;Squarespace Landing Pages&quot;&gt;Squarespace&lt;/a&gt;. :)&lt;/p&gt;

</description>
        <pubDate>Wed, 16 Dec 2015 00:00:00 -0500</pubDate>
      </item>
    
      <item>
        <title>Meet the New Rex</title>
        <link>http://technicalrex.com/meet-the-new-rex</link>
        <guid isPermaLink="true">http://technicalrex.com/meet-the-new-rex</guid>
        <description>&lt;p&gt;The big makeover of Technical Rex is finally here!&lt;/p&gt;

&lt;p&gt;Visually, a lot has changed. I’m fairly bored with the “flat” look that every site has been going for lately so I came up with the idea of “paper flat”. It’s basically flat but all of the surfaces have a paper texture applied to them and there are slight shadows around all of the boxes.&lt;/p&gt;

&lt;p&gt;Making the site look like it was crafted out of construction paper is my attempt to make Technical Rex stand out in appearance and also to feel more friendly.&lt;/p&gt;

&lt;h2 id=&quot;making-rex&quot;&gt;Making Rex&lt;/h2&gt;

&lt;p&gt;And speaking of friendly, how cute is Rex, my business’ new mascot? I started the site revamp by cutting Rex out of construction paper by hand.&lt;/p&gt;

&lt;div class=&quot;image-center&quot;&gt;
    
    &lt;img src=&quot;/img/posts/paper-rex.png&quot; class=&quot;shadow&quot; /&gt;
    
    RAWR!
&lt;/div&gt;

&lt;p&gt;I then recreated all of his parts as SVGs and put him back together digitally. Let me just say that &lt;a href=&quot;https://inkscape.org&quot;&gt;Inkscape&lt;/a&gt; is an amazing free SVG tool.&lt;/p&gt;

&lt;p&gt;When I finished, I was floored by how closely the resulting images resembled construction paper cutouts. I fist pumped for days.&lt;/p&gt;

&lt;h2 id=&quot;behind-the-scenes&quot;&gt;Behind the Scenes&lt;/h2&gt;

&lt;p&gt;The old site was hosted on &lt;a href=&quot;https://wordpress.com&quot;&gt;WordPress.com&lt;/a&gt;. WordPress made it easy to get a blog going for my business but that ease comes with a price. Two prices, actually. It costs money each year for the hosting and tools that come with WordPress. Not much money, but that’s where the other price comes in. Control. By paying the bare minimum, I didn’t have much creative control over how the site looked.&lt;/p&gt;

&lt;p&gt;This summer I finally got to the point where I wanted more control. Luckily, I discovered &lt;a href=&quot;https://pages.github.com&quot;&gt;GitHub Pages&lt;/a&gt;. GitHub Pages is free static content hosting. It runs on a locked down version of &lt;a href=&quot;http://jekyllrb.com&quot;&gt;Jekyll&lt;/a&gt; (another badass tool), which means that GitHub Pages can also be used as a free blogging platform.&lt;/p&gt;

&lt;p&gt;I did a massive migration of all of my content to GitHub Pages, trying very carefully not to break any links. This was a very tedious process. Migrating the individual articles was the single-most time-consuming task for the new site.&lt;/p&gt;

&lt;h2 id=&quot;whats-next&quot;&gt;What’s Next?&lt;/h2&gt;

&lt;p&gt;For the new site I don’t have any new features coming soon. The site should look decent on a phone and I think the theme is complete enough that it should require much maintenance. I’ll just resume my usual blogging here and see how things go.&lt;/p&gt;

&lt;p&gt;If you notice any broken links, please &lt;a href=&quot;&amp;#109;&amp;#097;&amp;#105;&amp;#108;&amp;#116;&amp;#111;:&amp;#101;&amp;#114;&amp;#105;&amp;#107;&amp;#046;&amp;#103;&amp;#105;&amp;#108;&amp;#108;&amp;#101;&amp;#115;&amp;#112;&amp;#105;&amp;#101;&amp;#064;&amp;#103;&amp;#109;&amp;#097;&amp;#105;&amp;#108;&amp;#046;&amp;#099;&amp;#111;&amp;#109;&quot;&gt;email me&lt;/a&gt;. If there is something visually broken or there is a feature you would like to see on the site, &lt;a href=&quot;https://github.com/technical-rex/technicalrex.com/issues&quot;&gt;create an issue&lt;/a&gt; on GitHub and I’ll get to it as soon as my priorities allow.&lt;/p&gt;

&lt;p&gt;Now that I’m done, I’m going to start working on Giving Jar again. I’ve solved some of the business model issues identified earlier in the year and am ready to start working on my new baby!&lt;/p&gt;
</description>
        <pubDate>Wed, 30 Sep 2015 00:00:00 -0400</pubDate>
      </item>
    
      <item>
        <title>Performance Playground - Jackson vs. Protocol Buffers, Part 3</title>
        <link>http://technicalrex.com/2015/06/25/performance-playground-jackson-vs-protocol-buffers-part-3</link>
        <guid isPermaLink="true">http://technicalrex.com/2015/06/25/performance-playground-jackson-vs-protocol-buffers-part-3</guid>
        <description>&lt;p&gt;Writing an apples-to-apples benchmark comparison of two very different serialization frameworks is apparently hard.&lt;/p&gt;

&lt;p&gt;In my first attempt to compare serialization performance of Jackson JSON and Google Protocol Buffers, there wasn’t a huge difference. After some suggestions, I made some revisions and found Jackson to be much faster than Protocol Buffers.&lt;/p&gt;

&lt;p&gt;A &lt;a href=&quot;https://github.com/egillespie/performance-playground/issues/7&quot;&gt;bug&lt;/a&gt; was recently found in the benchmarks and the effect of this bug gave Jackson a pretty unfair advantage. As you’ll see, fixing the bug leads to a complete 180º in the results of these benchmarks.&lt;/p&gt;

&lt;h2 id=&quot;the-bug-explained&quot;&gt;The Bug, Explained&lt;/h2&gt;

&lt;p&gt;If I had paid better attention to the serialized JSON and compared it to the data types I was choosing for the serialized object’s &lt;code class=&quot;highlighter-rouge&quot;&gt;.proto&lt;/code&gt; format file, I would have seen that the Joda Time serialization of &lt;code class=&quot;highlighter-rouge&quot;&gt;LocalDate&lt;/code&gt; objects was not converting the values to strings. Unfortunately, that was exactly what I did when I wrote the translation code to convert my value object to its corresponding -Proto class.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/phensley/protobuf-vs-jackson&quot;&gt;Patrick Hensley&lt;/a&gt; noticed this while taking the time to profile the benchmarks, wrote a fixed benchmark of his own, and pointed out the flaw to me.&lt;/p&gt;

&lt;p&gt;Before fixing the bug I profiled the Google Protocol Buffers serialization to see for my own eyes. Here’s what it looks like:&lt;/p&gt;

&lt;div class=&quot;image-center&quot;&gt;
    
    &lt;img src=&quot;/img/posts/performance-playground/convert-to-string-profiler-results.png&quot; class=&quot;shadow&quot; /&gt;
    
    
&lt;/div&gt;

&lt;p&gt;The list of methods is sorted by Total Time and you can clearly see that most of the time spent during serialization is in a variety of Joda Time method calls.&lt;/p&gt;

&lt;p&gt;Converting those dates to strings is expensive!&lt;/p&gt;

&lt;h2 id=&quot;squashing-the-bug&quot;&gt;Squashing the Bug&lt;/h2&gt;

&lt;p&gt;Another observation I made while digging into the code was that the Joda Time Jackson module was serializing the dates into an array of year, month, and day, not a string or UNIX timestamp like I had expected. So in addition to fixing the Protocol Buffer conversion of dates to a string, I also needed to fix the Jackson serialization of dates to match the more natural UNIX timestamp I decided to use with Protocol Buffers.&lt;/p&gt;

&lt;p&gt;The approach I took was to migrate away from LocalDate altogether in favor of Instant, which I’m quickly learning is the best, most compact way to represent timestamps if you don’t want to wrestle with timezones (and who does?).&lt;/p&gt;

&lt;p&gt;After making this change the profiler tells a much different story. All of the time spent serializing into Google Protocol Buffers is actually within the Google methods, not in other frameworks.&lt;/p&gt;

&lt;div class=&quot;image-center&quot;&gt;
    
    &lt;img src=&quot;/img/posts/performance-playground/convert-to-millis-profiler-results.png&quot; class=&quot;shadow&quot; /&gt;
    
    
&lt;/div&gt;

&lt;p&gt;And the new serialization benchmark results are pretty impressive too, Google Protocol Buffers wins the race handily this time:&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;Framework&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;Average Time (ms)&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;Min. Time (ms)&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;Max. Time (ms)&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;Variance&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Jackson JSON 2.6.0-rc2&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;130&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;122&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;169&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-0.06% / +0.30%&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Jackson Afterburner JSON 2.6.0-rc2&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;118&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;115&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;131&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-0.03% / +0.11%&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Protocol Buffers 3.0.0-alpha-3&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;41&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;38&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;103&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-0.07% / +1.51%&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;Profiling: Good.&lt;br /&gt;
Attention to detail: Good.&lt;br /&gt;
Converting dates to strings: Bad.&lt;/p&gt;

&lt;p&gt;If you want to see the rest of the benchmark results, you can read them &lt;a href=&quot;https://github.com/egillespie/performance-playground&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Also, big thanks to Patrick Hensley for noticing this bug and pointing it out to me! It’s great to see this kind of scrutiny in code on the web. OSS FTW!&lt;/p&gt;
</description>
        <pubDate>Thu, 25 Jun 2015 00:00:00 -0400</pubDate>
      </item>
    
      <item>
        <title>Making Paper Rockets</title>
        <link>http://technicalrex.com/2015/06/17/making-paper-rockets</link>
        <guid isPermaLink="true">http://technicalrex.com/2015/06/17/making-paper-rockets</guid>
        <description>&lt;p&gt;Today I spent a few hours learning how to create a simple graphic that looks like it was made from little pieces of construction paper.&lt;/p&gt;

&lt;p&gt;I’m happy enough with the results that I thought I should share.&lt;/p&gt;

&lt;h2 id=&quot;download-these-first&quot;&gt;Download These First&lt;/h2&gt;

&lt;p&gt;Before we get started, there are few things that need to be downloaded and installed. Don’t worry, all of the below are free, even for commercial use!&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;a href=&quot;https://inkscape.org&quot;&gt;Inkscape&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.gimp.org&quot;&gt;Gimp&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://starsunflowerstudio.blogspot.com/2011/06/new-free-paper-patterns-for-photoshop.html&quot;&gt;Paper Patterns&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Go ahead and install Inkscape and Gimp.&lt;/p&gt;

&lt;p&gt;To install the patterns, we need to figure out where they need to be placed on your filesystem. Start Gimp and open up its Preferences. Navigate to Folders and select Patterns to see a list of directories or folders that Gimp will look in to find patterns.&lt;/p&gt;

&lt;p&gt;Extract the downloaded paper patterns to one of the locations listed or add a new location and point it to wherever the patterns are located.&lt;/p&gt;

&lt;div class=&quot;image-center&quot;&gt;
    
    &lt;img src=&quot;/img/posts/rockets/gimp-pattern-folders.png&quot; class=&quot;no-shadow&quot; /&gt;
    
    
&lt;/div&gt;

&lt;p&gt;I’m using Mac OS X so I copied all of the .png files into &lt;code class=&quot;highlighter-rouge&quot;&gt;~/Library/Application Support/Gimp/patterns&lt;/code&gt; and made sure that folder was listed in the pattern folders.&lt;/p&gt;

&lt;p&gt;Restart Gimp to pick up the new patterns. We’ll be using them in a little bit.&lt;/p&gt;

&lt;h2 id=&quot;create-a-rocket-svg&quot;&gt;Create a Rocket SVG&lt;/h2&gt;

&lt;p&gt;Now that we have all of the necessary tools installed, let’s get started. The first thing we need to do is create a rocket.&lt;/p&gt;

&lt;div class=&quot;image-right&quot;&gt;
    
    &lt;img src=&quot;/img/posts/rockets/svg-rocket.png&quot; class=&quot;shadow&quot; /&gt;
    
    
&lt;/div&gt;

&lt;p&gt;Start Inkscape and open the &lt;a href=&quot;http://design.tutsplus.com/tutorials/quick-tip-how-to-create-a-cartoon-rocketship-with-inkscape--vector-5300&quot;&gt;Cartoon Rocketship with Inkscape&lt;/a&gt; tutorial. This is where I started to learn how to use Inkscape. The tool is a little intimidating and awkward to use on a Mac but if you have a little bit of experience using other graphics programs you should be able to find your way around.&lt;/p&gt;

&lt;p&gt;The tutorial assumes some basic knowledge of Inkscape, which I did not have. But I know how to use Ctrl+Z to undo and was able to click around to find what I needed. The toughest part for me was figuring out how to change the fill color and opacity in Step 6. Hint: click &lt;img src=&quot;/img/posts/rockets/fillstrokeicon.png&quot; alt=&quot;&quot; /&gt; to make the Fill and Stroke panel appear.&lt;/p&gt;

&lt;p&gt;Follow the tutorial through Step 8. I didn’t do the whole tutorial because some of the highlighting effects seemed a little overkill for what someone might realistically create by cutting out pieces of construction paper. The image above and right is what I came up with.&lt;/p&gt;

&lt;p&gt;When you’re done, save the rocket as an SVG.&lt;/p&gt;

&lt;h2 id=&quot;make-it-paper&quot;&gt;Make It Paper&lt;/h2&gt;

&lt;p&gt;At this point we’re all done with Inkscape. Time to open up Gimp and give the rocket a paper look.&lt;/p&gt;

&lt;p&gt;When you open the SVG in Gimp you will be presented with the following window:&lt;/p&gt;

&lt;div class=&quot;image-center&quot;&gt;
    
    &lt;img src=&quot;/img/posts/rockets/gimpimportsvg.png&quot; class=&quot;no-shadow&quot; /&gt;
    
    
&lt;/div&gt;

&lt;p&gt;The only change I made here was on the Resolution. 100 pixels/inch should look nice on most displays so I used that.&lt;/p&gt;

&lt;p&gt;When the rocket appears in Gimp, you’ll notice that the canvas size is probably way larger than the image. Easy fix: select Image &amp;gt; Autocrop Image.&lt;/p&gt;

&lt;div class=&quot;image-right&quot;&gt;
    
    &lt;img src=&quot;/img/posts/rockets/gimppaperfilloptions.png&quot; class=&quot;shadow&quot; /&gt;
    
    
&lt;/div&gt;

&lt;p&gt;The paper effect is actually crazy-easy in Gimp. Do all of the following:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Choose the Bucket Fill tool.&lt;/li&gt;
  &lt;li&gt;In the Tool Options use the following values:&lt;br /&gt;
a. Mode: Darken Only&lt;br /&gt;
b. Opacity: 40%&lt;br /&gt;
c. Fill Type: Pattern fill&lt;br /&gt;
d. Pattern: ssfs_paper_texture_9.png (the green paper texture)&lt;br /&gt;
e. Affected Area: Fill whole selection&lt;/li&gt;
  &lt;li&gt;Click in the image somewhere.&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;voil-paper-rocket&quot;&gt;Voilà, paper rocket!!&lt;/h2&gt;

&lt;p&gt;Export your work into a PNG and show all of your friends!&lt;/p&gt;

&lt;div class=&quot;image-center&quot;&gt;
    
    &lt;img src=&quot;/img/posts/rockets/paper_rocket.png&quot; class=&quot;no-shadow&quot; /&gt;
    
    
&lt;/div&gt;

</description>
        <pubDate>Wed, 17 Jun 2015 00:00:00 -0400</pubDate>
      </item>
    
      <item>
        <title>This Dino is Getting a Makeover!</title>
        <link>http://technicalrex.com/2015/06/10/this-dino-is-getting-a-makeover</link>
        <guid isPermaLink="true">http://technicalrex.com/2015/06/10/this-dino-is-getting-a-makeover</guid>
        <description>&lt;p&gt;Just a quick heads-up, the site will be getting a facelift over the next few weeks!&lt;/p&gt;

&lt;p&gt;As part of my effort to learn about &lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt;, &lt;a href=&quot;https://pages.github.com&quot;&gt;GitHub Pages&lt;/a&gt;, &lt;a href=&quot;http://jekyllrb.com&quot;&gt;Jekyll&lt;/a&gt;, &lt;a href=&quot;https://docs.shopify.com/themes/liquid-documentation/basics&quot;&gt;Liquid&lt;/a&gt;, and graphics/web design, I’ll be revamping the site while trying to make sure none of the links break.&lt;/p&gt;

&lt;p&gt;Right now the site is hosted using &lt;a href=&quot;https://wordpress.com/&quot;&gt;WordPress.com&lt;/a&gt; and it costs money while not giving me much control. I want to get both of those things back and hone my Web Fu skills.&lt;/p&gt;

&lt;p&gt;I’ve already done the same for my &lt;a href=&quot;http://gillespieproject.com&quot;&gt;family blog&lt;/a&gt;. The T. Rex blog should go even smoother because I’ve already written all articles in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt; so they’re very portable.&lt;/p&gt;

&lt;p&gt;I won’t switch the domain over till the transition is complete so please keep coming back here for updates. I’ll post a temporary URL once I get some basic content out there in case anyone is interested in seeing T. Rex’s transformation.&lt;/p&gt;

&lt;p&gt;Stay tuned!&lt;/p&gt;
</description>
        <pubDate>Wed, 10 Jun 2015 00:00:00 -0400</pubDate>
      </item>
    
      <item>
        <title>Timecards Can Be Easy</title>
        <link>http://technicalrex.com/2015/06/04/timecards-can-be-easy</link>
        <guid isPermaLink="true">http://technicalrex.com/2015/06/04/timecards-can-be-easy</guid>
        <description>&lt;p&gt;Today I submitted an extension to the Chrome web store. It helps employees who track time in ADP eTIME such as myself and my coworkers quickly find the projects they care about while avoiding the ones they don’t.&lt;/p&gt;

&lt;p&gt;The extension works by letting an employee create a custom list of tracking codes that they typically use on their timecards. The codes in ADP are usually difficult to interpret so the extension also allows each code to be associated with a brief name.&lt;/p&gt;

&lt;p&gt;The next time that employee completes a timecard on ADP’s website a new button will show up. By clicking this button a menu will appear that lists the employee’s projects. After selecting one of these projects the corresponding code will be placed on the timecard and ADP will be notified that a change has been made to the timecard.&lt;/p&gt;

&lt;p&gt;If you have used ADP’s eTime system before, you’ll know that this is a huge time saver over the typical popup window that requires clicking and scrolling through potentially hundreds of projects that you don’t know or even care about.&lt;/p&gt;

&lt;p&gt;I thought I’d take some screenshots and annotate the difference between using ADP eTIME with and without the Easy ADP Timecards extension.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Before the Easy ADP Timecards extension:&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;image-center&quot;&gt;
    
    &lt;img src=&quot;/img/posts/easyadp/normaladpinaction.png&quot; class=&quot;shadow&quot; /&gt;
    
    Normal ADP Inaction
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;After the Easy ADP Timecards extension:&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;image-center&quot;&gt;
    
    &lt;img src=&quot;/img/posts/easyadp/easyadpinaction.png&quot; class=&quot;shadow&quot; /&gt;
    
    Easy ADP In Action
&lt;/div&gt;

&lt;h2 id=&quot;try-me&quot;&gt;Try Me&lt;/h2&gt;

&lt;p&gt;If you have to use ADP eTIME and still aren’t convinced, &lt;a href=&quot;https://chrome.google.com/webstore/detail/easy-adp-timecards/obpjlfoampdbdnmpbhaclmldkeebhnfd&quot;&gt;try it out&lt;/a&gt;!&lt;/p&gt;

&lt;p&gt;I have also created a &lt;a href=&quot;https://bitbucket.org/technicalrex/easy-adp-timecards/wiki/Home&quot;&gt;Wiki&lt;/a&gt; that explains the extension in more detail. If you use the extension and want to report an issue or request a feature, feel free to create one on the &lt;a href=&quot;https://bitbucket.org/technicalrex/easy-adp-timecards/issues&quot;&gt;Issue Tracker&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Expect a few more posts as the extension is reviewed and becomes searchable on the web store. I learned a LOT about Chrome extensions making this.&lt;/p&gt;

&lt;p&gt;With a little TLC, timecards can be easy!&lt;/p&gt;
</description>
        <pubDate>Thu, 04 Jun 2015 00:00:00 -0400</pubDate>
      </item>
    
      <item>
        <title>Giving Jar Unveiled at the Hatching</title>
        <link>http://technicalrex.com/2015/04/03/giving-jar-unveiled-at-the-hatching</link>
        <guid isPermaLink="true">http://technicalrex.com/2015/04/03/giving-jar-unveiled-at-the-hatching</guid>
        <description>&lt;p&gt;Last week I pitched Giving Jar at &lt;a href=&quot;http://www.thehatching.org&quot;&gt;the Hatching&lt;/a&gt;, a local startup contest to encourage entrepreneurship in the Lansing area. I didn’t win the judge vote but I got a ton of applause and support from the audience.&lt;/p&gt;

&lt;p&gt;I walked away feeling like Giving Jar needs to happen and I’m determined to give it my all to see that it does.&lt;/p&gt;

&lt;h2 id=&quot;what-is-giving-jar&quot;&gt;What is Giving Jar?&lt;/h2&gt;

&lt;p&gt;Have you ever bought something at a store and been asked to donate to charity while checking out?&lt;/p&gt;

&lt;p&gt;Take that model of charitable giving, put it online and let the consumer choose the charity. That’s Giving Jar.&lt;/p&gt;

&lt;p&gt;There are millions of purchases made online every year and it just blows me away that there isn’t a good way to encourage this form of donation online yet!&lt;sup id=&quot;fnref:1&quot;&gt;&lt;a href=&quot;#fn:1&quot; class=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;

&lt;h2 id=&quot;but-wait-theres-more&quot;&gt;But Wait, There’s More!&lt;/h2&gt;

&lt;p&gt;Giving Jar is much more than another button you see when buying something online. It is a personal charity management service.&lt;/p&gt;

&lt;p&gt;Imagine being able to research charities from one place and create a jar for each one that is the right fit for you. When shopping at Store A you can donate to one of those charities and at Store B you can donate to a different charity. After you turn on donations through an online store your setting is saved and future donations will happen automatically until you choose to opt out.&lt;/p&gt;

&lt;p&gt;Donating online should be easy!&lt;/p&gt;

&lt;h2 id=&quot;media-time&quot;&gt;Media Time&lt;/h2&gt;

&lt;p&gt;I’ve embedded the slide deck that I used to present at the Hatching.&lt;/p&gt;

&lt;p&gt;I will also try to get the video of my presentation. It would be handy for me to see as well because that whole five minutes was a blur but I’m also happy to share it with all who are curious!&lt;/p&gt;

&lt;iframe src=&quot;https://docs.google.com/presentation/d/1shvZpvz0C0KLSbQ6TBMpDt3HDL9tQYqd8gX_Qoo6UTs/embed?start=false&amp;amp;loop=false&amp;amp;delayms=3000&quot; frameborder=&quot;0&quot; width=&quot;480&quot; height=&quot;389&quot; allowfullscreen=&quot;true&quot; mozallowfullscreen=&quot;true&quot; webkitallowfullscreen=&quot;true&quot;&gt;&lt;/iframe&gt;

&lt;div class=&quot;footnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:1&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;http://smile.amazon.com&quot;&gt;Amazon Smile&lt;/a&gt; offers something similar but you have to start shopping at a specific URL and only certain items on Amazon are eligible. &lt;a href=&quot;#fnref:1&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        <pubDate>Fri, 03 Apr 2015 00:00:00 -0400</pubDate>
      </item>
    
      <item>
        <title>Performance Playground - Jackson vs. Protocol Buffers, Part 2</title>
        <link>http://technicalrex.com/2015/02/27/performance-playground-jackson-vs-protocol-buffers-part-2</link>
        <guid isPermaLink="true">http://technicalrex.com/2015/02/27/performance-playground-jackson-vs-protocol-buffers-part-2</guid>
        <description>&lt;p&gt;&lt;strong&gt;Update:&lt;/strong&gt; &lt;em&gt;&lt;a href=&quot;/2015/06/25/performance-playground-jackson-vs-protocol-buffers-part-3&quot;&gt;Part 3&lt;/a&gt; is available and the tides have turned! Actually it turns out I had a bug in my benchmark that was skewing the Protocol Buffer results in a pretty major way.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;In my &lt;a href=&quot;/2014/06/23/performance-playground-jackson-vs-protocol-buffers&quot;&gt;previous article&lt;/a&gt; comparing the performance of FasterXML’s Jackson JSON serializer and Google’s Protocol Buffers, I concluded that the difference in speed is very small.&lt;/p&gt;

&lt;p&gt;Wow was I wrong!&lt;/p&gt;

&lt;h2 id=&quot;giving-jackson-a-fair-treatment&quot;&gt;Giving Jackson a Fair Treatment&lt;/h2&gt;

&lt;p&gt;I’m revisiting the performance analysis of these two frameworks because I got a &lt;a href=&quot;https://github.com/egillespie/performance-playground/issues/1&quot;&gt;suggestion&lt;/a&gt; to add Jackson Afterburner as an additional benchmark from &lt;a href=&quot;https://twitter.com/cowtowncoder&quot;&gt;Tatu Saloranta&lt;/a&gt; and I finally got around to it today.&lt;/p&gt;

&lt;p&gt;Adding the Afterburner tests was easy but there was little to no performance improvement. I commented as much on the GitHub issue and Tatu pretty quickly looked into it and &lt;a href=&quot;http://www.cowtowncoder.com/blog/archives/2010/04/entry_396.html&quot;&gt;pointed me&lt;/a&gt; in the right direction.&lt;/p&gt;

&lt;p&gt;It turns out that I had disabled some of Jackson’s default configuration for what I thought were fairly harmless reasons and this had thrown off my benchmarks right from the start! I did not deviate from the default Protocol Buffers configuration either, so I wasn’t really doing an apples-to-apples comparison of these two frameworks.&lt;/p&gt;

&lt;h2 id=&quot;rework&quot;&gt;Rework&lt;/h2&gt;

&lt;p&gt;After re-enabling the default Jackson configuration (more specifically, I removed the code to disable creator auto-detection, time formatting, and overriding access modifiers) I ran the tests again and my eyes widened upon seeing the results: Jackson was consistently serializing data more than 2 times faster than Protocol Buffers and was just shy of 2 times faster for deserialization.&lt;/p&gt;

&lt;p&gt;What a difference using the default settings can make!&lt;/p&gt;

&lt;h2 id=&quot;jackson--afterburn&quot;&gt;Jackson + Afterburn&lt;/h2&gt;

&lt;p&gt;Unfortunately, re-enabling the default settings for Jackson did not yield any different results in the new Afterburner tests, it still ran at approximately the same speed as vanilla Jackson.&lt;/p&gt;

&lt;div class=&quot;image-right&quot;&gt;
    
    &lt;img src=&quot;/img/posts/afterburner.jpg&quot; class=&quot;shadow&quot; /&gt;
    
    
&lt;/div&gt;

&lt;p&gt;I was tipped off to the problem here as well: Afterburner uses bytecode generation to optimize access to getters and setters. Since I was using immutable objects for my benchmark and not supplying a builder for Afterburner to use, it was effectively not doing anything.&lt;/p&gt;

&lt;p&gt;And so I stripped out the references to &lt;code class=&quot;highlighter-rouge&quot;&gt;@JsonCreator&lt;/code&gt; in my data objects and made them mutable. Alternatively, I could have kept them immutable and created builders for Jackson to use for deserialization.&lt;/p&gt;

&lt;p&gt;This led to an additional improvement in performance over vanilla Jackson: a 6-16% increase in serialization and a 20% improvement in deserialization.&lt;/p&gt;

&lt;h2 id=&quot;results&quot;&gt;Results&lt;/h2&gt;

&lt;p&gt;I ran the latest benchmarks on an old Windows laptop, but the relative performance differences are still apparent: Jackson JSON serializes and deserializes much faster than Protocol Buffers with only a small difference in compressed output size.&lt;/p&gt;

&lt;h3 id=&quot;serialization&quot;&gt;Serialization&lt;/h3&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;Framework&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;Average Time (ms)&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;Min. Time (ms)&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;Max. Time (ms)&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;Variance&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Jackson JSON 2.5.1&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;373&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;321&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;601&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-0.14% / +0.61%&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Jackson Afterburner JSON 2.5.1&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;357&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;313&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;587&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-0.12% / +0.64%&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Protocol Buffers 2.6.0&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;891&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;772&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;1,402&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-0.13% / +0.57%&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;deserialization&quot;&gt;Deserialization&lt;/h3&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;Framework&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;Average Time (ms)&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;Min. Time (ms)&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;Max. Time (ms)&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;Variance&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Jackson JSON 2.5.1&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;704&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;557&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;1,421&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-0.21% / +1.02%&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Jackson Afterburner JSON 2.5.1&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;569&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;523&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;973&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-0.08% / +0.71%&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Protocol Buffers 2.6.0&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;1,344&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;1,173&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;2,006&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-0.13% / +0.49%&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;compression&quot;&gt;Compression&lt;/h3&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;Framework&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;Uncompressed Size (bytes)&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;GZip Compressed Size (bytes)&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;Compression Ratio&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Jackson JSON 2.5.1&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;27,018&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;9,591&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;2.82&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Jackson Afterburner JSON 2.5.1&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;26,910&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;9,610&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;2.80&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Protocol Buffers 2.6.0&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;18,851&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;9,199&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;2.05&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&quot;lessons-relearned&quot;&gt;Lessons (Re)Learned&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;Be fair when comparing frameworks.&lt;/li&gt;
  &lt;li&gt;Default settings are there for a reason.&lt;/li&gt;
  &lt;li&gt;Know what’s going on under the hood!&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;whats-next&quot;&gt;What’s Next?&lt;/h2&gt;

&lt;p&gt;My incentive for including Afterburner today was that I heard Protocol Buffers version 3.0 should be released soon and I’m hopeful that there will be some performance improvements made. I will add the tests for Protocol Buffers 3 when it’s released.&lt;/p&gt;

&lt;p&gt;If you have suggestions for other frameworks, &lt;a href=&quot;&amp;#109;&amp;#097;&amp;#105;&amp;#108;&amp;#116;&amp;#111;:&amp;#101;&amp;#114;&amp;#105;&amp;#107;&amp;#046;&amp;#103;&amp;#105;&amp;#108;&amp;#108;&amp;#101;&amp;#115;&amp;#112;&amp;#105;&amp;#101;&amp;#064;&amp;#103;&amp;#109;&amp;#097;&amp;#105;&amp;#108;&amp;#046;&amp;#099;&amp;#111;&amp;#109;&quot;&gt;let me know&lt;/a&gt;!&lt;/p&gt;
</description>
        <pubDate>Fri, 27 Feb 2015 00:00:00 -0500</pubDate>
      </item>
    
      <item>
        <title>Stateless Authentication with Spring Security and JWT</title>
        <link>http://technicalrex.com/2015/02/20/stateless-authentication-with-spring-security-and-jwt</link>
        <guid isPermaLink="true">http://technicalrex.com/2015/02/20/stateless-authentication-with-spring-security-and-jwt</guid>
        <description>&lt;p&gt;&lt;em&gt;Update:&lt;/em&gt; The code used for this tutorial is now &lt;a href=&quot;https://github.com/technical-rex/spring-security-jwt&quot;&gt;available on GitHub&lt;/a&gt;! Peruse, fork, and clone as you see fit.&lt;/p&gt;

&lt;p&gt;As part of my lifelong study of REST APIs I have been learning more about &lt;a href=&quot;http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_1_3&quot;&gt;avoiding shared state&lt;/a&gt; between the client and server. This week in particular I have been learning about stateless authentication and attempting to implement it in a skeleton Java app based on my &lt;a href=&quot;/2014/08/11/creating-a-jersey-app-on-google-app-engine&quot;&gt;Jersey on Google AppEngine tutorial&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;overview&quot;&gt;Overview&lt;/h2&gt;

&lt;p&gt;The REST architectural style is interesting to me, but that alone is not why I want to implement a stateless authentication mechanism. Benefits that Roy Fielding states in his dissertation include reliability and scalability. When building a web application, reliability is important no matter how many users you have. Scalability is also important for even a meager number of users.&lt;/p&gt;

&lt;p&gt;Another benefit of statelessness when building a RESTful web application that is important to me is testability. It is much easier to test endpoints without first having to go through a workflow to establish a session and then end that session after the test to ensure the tests are isolated. This will probably result in time savings during the development of the app as well.&lt;/p&gt;

&lt;p&gt;One of the downsides of statelessness is that it requires some form of token or credential to be supplied with &lt;strong&gt;every&lt;/strong&gt; request to the server, which can be a performance penalty. &lt;a href=&quot;http://openid.net/specs/draft-jones-json-web-token-07.html&quot;&gt;JWT&lt;/a&gt; (JSON Web Tokens) are a means of offering stateless authentication in a compact and secure way. JSON Web Tokens can be used to thwart cross-site request forgery attempts and there are plenty of JWT libraries out there as well.&lt;/p&gt;

&lt;p&gt;While there may be a performance penalty to stateless authentication, I think the compactful, secure, easy-to-use JWT balances out that con quite nicely. Another benefit of JWT is that it does not require the use of cookies, which makes server-to-server authentication more convenient.&lt;/p&gt;

&lt;div class=&quot;image-center&quot;&gt;
    
    &lt;img src=&quot;/img/posts/cookiemonster-nocookiesforyou.jpg&quot; class=&quot;shadow&quot; /&gt;
    
    No Cookies for You!
&lt;/div&gt;

&lt;h2 id=&quot;where-to-begin&quot;&gt;Where to Begin&lt;/h2&gt;

&lt;p&gt;I set out to use &lt;a href=&quot;http://projects.spring.io/spring-security/&quot;&gt;Spring Security&lt;/a&gt; because it is very customizable and is usually not very invasive to the rest of your web application. I also have a lot of experience with it so it’s typically a good place for me to start when looking into any new security-related solutions.&lt;/p&gt;

&lt;p&gt;Spring Security does offer &lt;a href=&quot;https://github.com/spring-projects/spring-security-oauth/tree/master/spring-security-jwt&quot;&gt;its own approach to JWT&lt;/a&gt; too, but I decided not to use it because until recently it had not seen much activity. Instead, I chose to use &lt;a href=&quot;https://github.com/jwtk/jjwt&quot;&gt;JJWT&lt;/a&gt;, which provides a brilliant fluent interface for using JSON Web Tokens.&lt;/p&gt;

&lt;p&gt;After choosing my tech stack for this little project I perused the Internet to see if anyone had already accomplished what I was setting out to do. I found this &lt;a href=&quot;http://blog.jdriven.com/2014/10/stateless-spring-security-part-2-stateless-authentication/&quot;&gt;JDriven article&lt;/a&gt; by Robbert van Waveren that comes pretty darn close. It turned out to be a great starting point!&lt;/p&gt;

&lt;p&gt;The code provided below is an adaptation of Robbert’s tutorial to use JWT. I made some small changes to bootstrap the app in a Google AppEngine app instead of using Spring Boot so I’ll point out those differences as well.&lt;/p&gt;

&lt;h2 id=&quot;code-time&quot;&gt;Code Time!&lt;/h2&gt;

&lt;p&gt;First things first, let’s pull in the Maven dependencies for Spring Security and JJWT.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;pom.xml&lt;/strong&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-xml&quot; data-lang=&quot;xml&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.springframework.security&lt;span class=&quot;nt&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;spring-security-web&lt;span class=&quot;nt&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;3.2.5.RELEASE&lt;span class=&quot;nt&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.springframework.security&lt;span class=&quot;nt&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;spring-security-config&lt;span class=&quot;nt&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;3.2.5.RELEASE&lt;span class=&quot;nt&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;io.jsonwebtoken&lt;span class=&quot;nt&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;jjwt&lt;span class=&quot;nt&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;0.4&lt;span class=&quot;nt&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Since I’m using a Servlet 2.5 container running in Google AppEngine, I’ll have to configure the Spring Security filter in web.xml too.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;web.xml&lt;/strong&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-xml&quot; data-lang=&quot;xml&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;context-param&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;param-name&amp;gt;&lt;/span&gt;contextClass&lt;span class=&quot;nt&quot;&gt;&amp;lt;/param-name&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;param-value&amp;gt;&lt;/span&gt;
        org.springframework.web.context.support.AnnotationConfigWebApplicationContext
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/param-value&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/context-param&amp;gt;&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;&amp;lt;context-param&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;param-name&amp;gt;&lt;/span&gt;contextConfigLocation&lt;span class=&quot;nt&quot;&gt;&amp;lt;/param-name&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;param-value&amp;gt;&lt;/span&gt;
        com.technicalrex.skeleton.vendor.SpringSecurityConfig
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/param-value&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/context-param&amp;gt;&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;&amp;lt;filter&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;filter-name&amp;gt;&lt;/span&gt;springSecurityFilterChain&lt;span class=&quot;nt&quot;&gt;&amp;lt;/filter-name&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;filter-class&amp;gt;&lt;/span&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;span class=&quot;nt&quot;&gt;&amp;lt;/filter-class&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/filter&amp;gt;&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;&amp;lt;filter-mapping&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;filter-name&amp;gt;&lt;/span&gt;springSecurityFilterChain&lt;span class=&quot;nt&quot;&gt;&amp;lt;/filter-name&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;url-pattern&amp;gt;&lt;/span&gt;/*&lt;span class=&quot;nt&quot;&gt;&amp;lt;/url-pattern&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;dispatcher&amp;gt;&lt;/span&gt;REQUEST&lt;span class=&quot;nt&quot;&gt;&amp;lt;/dispatcher&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/filter-mapping&amp;gt;&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;&amp;lt;listener&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;listener-class&amp;gt;&lt;/span&gt;org.springframework.web.context.ContextLoaderListener&lt;span class=&quot;nt&quot;&gt;&amp;lt;/listener-class&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/listener&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Now that Spring Security is bootstrapping I need to define the SpringSecurityConfig. This class will declare any security-related Spring beans and configure the base HTTP filter to secure the web application.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;SpringSecurityConfig.java&lt;/strong&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nd&quot;&gt;@Configuration&lt;/span&gt;
&lt;span class=&quot;nd&quot;&gt;@EnableWebSecurity&lt;/span&gt;
&lt;span class=&quot;nd&quot;&gt;@Order&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;SpringSecurityConfig&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;WebSecurityConfigurerAdapter&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;UserService&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;userService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TokenAuthenticationService&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tokenAuthenticationService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;SpringSecurityConfig&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;userService&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;UserService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;tokenAuthenticationService&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TokenAuthenticationService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;tooManySecrets&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;userService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;nd&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;configure&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;HttpSecurity&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;http&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Exception&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;http&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;exceptionHandling&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;and&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;anonymous&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;and&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;servletApi&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;and&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;headers&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;cacheControl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;and&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;authorizeRequests&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;

                &lt;span class=&quot;c1&quot;&gt;// Allow anonymous resource requests&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;antMatchers&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;permitAll&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;antMatchers&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/favicon.ico&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;permitAll&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;antMatchers&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;**/*.html&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;permitAll&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;antMatchers&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;**/*.css&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;permitAll&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;antMatchers&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;**/*.js&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;permitAll&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;

                &lt;span class=&quot;c1&quot;&gt;// Allow anonymous logins&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;antMatchers&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/auth/**&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;permitAll&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;

                &lt;span class=&quot;c1&quot;&gt;// All other request need to be authenticated&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;anyRequest&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;authenticated&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;and&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;

                &lt;span class=&quot;c1&quot;&gt;// Custom Token based authentication based on the header previously given to the client&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;addFilterBefore&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;StatelessAuthenticationFilter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tokenAuthenticationService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;),&lt;/span&gt;
                        &lt;span class=&quot;n&quot;&gt;UsernamePasswordAuthenticationFilter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;nd&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;configure&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;AuthenticationManagerBuilder&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;auth&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Exception&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;auth&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;userDetailsService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;userDetailsService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;passwordEncoder&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;BCryptPasswordEncoder&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;());&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;nd&quot;&gt;@Bean&lt;/span&gt;
    &lt;span class=&quot;nd&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;AuthenticationManager&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;authenticationManagerBean&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Exception&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;authenticationManagerBean&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;nd&quot;&gt;@Bean&lt;/span&gt;
    &lt;span class=&quot;nd&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;UserService&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;userDetailsService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;userService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;nd&quot;&gt;@Bean&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TokenAuthenticationService&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tokenAuthenticationService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tokenAuthenticationService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;There are a number of important details in this class that are worth understanding:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;In the constructor, disable the default security configuration.&lt;/li&gt;
  &lt;li&gt;In the constructor the string “tooManySecrets” should be replaced with a value private to your application and ideally loaded from a property file.&lt;/li&gt;
  &lt;li&gt;Anonymous access is allowed but authorization will happen on all HTTP requests.&lt;/li&gt;
  &lt;li&gt;Prevent the browser/client from caching responses.&lt;/li&gt;
  &lt;li&gt;Allow anonymous access to all static resources (HTML, CSS, JS, etc.).&lt;/li&gt;
  &lt;li&gt;Also allow anonymous access to login attempts (this assumes logins are managed under /auth).&lt;/li&gt;
  &lt;li&gt;Authentication must occur on requests to all other resources.&lt;/li&gt;
  &lt;li&gt;A single filter will be used to authenticate all requests that require authentication.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;This configuration shows that there are a handful of other classes needed in order to implement stateless authentication. The filter is where the actual authentication is managed though so let’s look at that one first.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;StatelessAuthenticationFilter.java&lt;/strong&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;StatelessAuthenticationFilter&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;GenericFilterBean&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TokenAuthenticationService&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;authenticationService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;StatelessAuthenticationFilter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;TokenAuthenticationService&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;authenticationService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;authenticationService&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;authenticationService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;nd&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;doFilter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ServletRequest&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ServletResponse&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FilterChain&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;filterChain&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;kd&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;IOException&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ServletException&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;HttpServletRequest&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;httpRequest&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;HttpServletRequest&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;Authentication&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;authentication&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;authenticationService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getAuthentication&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;httpRequest&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;SecurityContextHolder&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getContext&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setAuthentication&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;authentication&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;filterChain&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;doFilter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;SecurityContextHolder&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getContext&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setAuthentication&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;There’s not much here because this filter actually delegates to &lt;code class=&quot;highlighter-rouge&quot;&gt;TokenAuthenticationService&lt;/code&gt;. All this filter really does is apply the successful authentication to Spring Security’s context holder and then proceed with the request.&lt;/p&gt;

&lt;p&gt;Okay, let’s dig a little deeper and look at &lt;code class=&quot;highlighter-rouge&quot;&gt;TokenAuthenticationService&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;TokenAuthenticationService.java&lt;/strong&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;TokenAuthenticationService&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;AUTH_HEADER_NAME&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;X-AUTH-TOKEN&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TokenHandler&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tokenHandler&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TokenAuthenticationService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;secret&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;UserService&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;userService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;tokenHandler&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TokenHandler&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;secret&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;userService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;addAuthentication&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;HttpServletResponse&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;UserAuthentication&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;authentication&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;User&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;authentication&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getDetails&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;addHeader&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;AUTH_HEADER_NAME&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tokenHandler&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;createTokenForUser&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Authentication&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getAuthentication&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;HttpServletRequest&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;token&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getHeader&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;AUTH_HEADER_NAME&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;token&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;User&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tokenHandler&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;parseUserFromToken&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;token&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;UserAuthentication&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;This is where things start to become more clear about how authentication will actually work! When a user successfully logs into the web application, the first public method of this class will be called to create a token for that user. That token is then added as a header with the key “X-AUTH-TOKEN” to the outbound response.&lt;/p&gt;

&lt;p&gt;The authentication filter is calling &lt;code class=&quot;highlighter-rouge&quot;&gt;getAuthentication(...)&lt;/code&gt; though, which looks for a header that uses the same key “X-AUTH-TOKEN” and uses that token to re-establish the authenticating user. If this method throws an exception or returns &lt;code class=&quot;highlighter-rouge&quot;&gt;null&lt;/code&gt; then the user will not be authenticated and the request will ultimately fail.&lt;/p&gt;

&lt;p&gt;Robbert’s article conveniently delegated the token generation and parsing to yet another class to isolate that logic. My implementation of &lt;code class=&quot;highlighter-rouge&quot;&gt;TokenHandler&lt;/code&gt; uses JJWT to manage a JSON Web Token. Here’s what it looks like:&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;TokenHandler.java&lt;/strong&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;TokenHandler&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;secret&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;UserService&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;userService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TokenHandler&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;secret&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;UserService&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;userService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;secret&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;secret&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;userService&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;userService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;User&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;parseUserFromToken&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;token&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;username&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Jwts&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;parser&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setSigningKey&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;secret&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;parseClaimsJws&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;token&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getBody&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getSubject&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;userService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;loadUserByUsername&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;createTokenForUser&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;User&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Jwts&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;builder&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setSubject&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getUsername&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;())&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;signWith&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SignatureAlgorithm&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;HS512&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;secret&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;compact&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;This is where the magic of JJWT happens. In a single chain of calls to its fluent API, JJWT will create a token using the subject of our choosing (username) and sign it using the application’s secret key. All of the other work of generating appropriately structured JSON according to the even more specific JWT specification, Base 64 encoding, and compaction are all taken care of behind the scenes.&lt;/p&gt;

&lt;p&gt;The reverse is true too. JJWT can also use a secret key to fully decode and parse a JSON Web Token and provide an object that we can use to later retrieve the subject (username) needed to verify the presence of a real user.&lt;/p&gt;

&lt;p&gt;The only remaining classes are nothing special (they’ll be needed in many Spring Security applications that involve a user login) so I will provide them below for completeness.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;UserService.java&lt;/strong&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;UserService&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;org&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;springframework&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;security&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;core&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;userdetails&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;UserDetailsService&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;AccountStatusUserDetailsChecker&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;detailsChecker&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;AccountStatusUserDetailsChecker&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;HashMap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;userMap&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;HashMap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;();&lt;/span&gt;

    &lt;span class=&quot;nd&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;User&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;loadUserByUsername&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;UsernameNotFoundException&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;User&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;userMap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;UsernameNotFoundException&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;user not found&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;detailsChecker&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;check&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;addUser&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;User&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;userMap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;put&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getUsername&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;This implementation of Spring Security’s &lt;code class=&quot;highlighter-rouge&quot;&gt;UserDetailsService&lt;/code&gt; is for demonstration purposes only! It uses a map to maintain the set of available users and it isn’t even thread safe. If you are using this tutorial you will most certainly want to replace this with a user lookup service that uses a database, LDAP, or some other more legitimate means of keeping track of users.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;UserAuthentication.java&lt;/strong&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;UserAuthentication&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Authentication&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;User&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;authenticated&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;UserAuthentication&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;User&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;nd&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getUsername&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;nd&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Collection&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;?&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;GrantedAuthority&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getAuthorities&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getAuthorities&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;nd&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Object&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getCredentials&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getPassword&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;nd&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;User&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getDetails&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;nd&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Object&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getPrincipal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getUsername&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;nd&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;isAuthenticated&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;authenticated&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;nd&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;setAuthenticated&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;authenticated&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;authenticated&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;authenticated&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;This class implements Spring Security’s &lt;code class=&quot;highlighter-rouge&quot;&gt;Authentication&lt;/code&gt; interface, which is how Spring ties users, authorities/roles, principals, credentials, and authentication status together. The implementation above always assumes the user is authenticated and delegates the rest to Spring Security’s own &lt;code class=&quot;highlighter-rouge&quot;&gt;User&lt;/code&gt; class.&lt;/p&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;Robbert van Waveren’s article saved me from a lot of the grunt work of configuring Spring Security to handle stateless authentication. Swapping out his own HMAC signing code with the one-liners offered up by JJWT helped me cut out a lot of code and use a full-blown JWT implementation as well!&lt;/p&gt;

&lt;p&gt;All in all, this is probably one of the smallest Spring Security implementations that I have done. I don’t know why I didn’t try this out sooner!&lt;/p&gt;
</description>
        <pubDate>Fri, 20 Feb 2015 00:00:00 -0500</pubDate>
      </item>
    
      <item>
        <title>New Business Idea - Contribution Jars</title>
        <link>http://technicalrex.com/2015/02/11/new-business-idea-contribution-jars</link>
        <guid isPermaLink="true">http://technicalrex.com/2015/02/11/new-business-idea-contribution-jars</guid>
        <description>&lt;p&gt;You have probably heard of a swear jar. If you’re a software developer then maybe you’ve worked somewhere that you put a buck in a box each time you break the nightly build. In either situation, when the jar or box is full you take that money and do something good with it like go on a vacation or buy your team donuts.&lt;/p&gt;

&lt;p&gt;Now imagine a phone app that would allow you to create a jar and put money into it. With this app you have a swear jar that doesn’t take up any space and you can put money in it whenever and wherever you want.&lt;/p&gt;

&lt;p&gt;The swear jar app is the seed from which my latest business idea has blossomed.&lt;/p&gt;

&lt;h2 id=&quot;but-wait-how-could-this-be-a-business&quot;&gt;But Wait, How Could This Be a Business?&lt;/h2&gt;

&lt;p&gt;A swear jar app is not a business. It’s a pet project.&lt;/p&gt;

&lt;p&gt;At its heart there are two problems that swear jars try to solve:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Help people change their bad behavior.&lt;/li&gt;
  &lt;li&gt;Do something good with spare change.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;In both forms of the word, swear jars are about change. I think a business could do a lot of good trying to solve these problems!&lt;/p&gt;

&lt;h2 id=&quot;making-change&quot;&gt;Making Change&lt;/h2&gt;

&lt;p&gt;After my epiphany about the problems a swear jar tries to solve, I split the swear jar app into two different ideas: a small one and a big one.&lt;/p&gt;

&lt;p&gt;The small idea is still a virtual jar that you put coins into and empty when full. It helps someone change an unwanted behavior by making them aware of the problem and providing a little bit of discomfort that is the act of putting money into the jar each time they falter.&lt;/p&gt;

&lt;p&gt;The bigger idea happens when you empty one of those jars. After you sign up you create a list of charities that are important to you. When you empty a jar, that fake money is turned into real money that gets divided up and sent to the charities of your choice. If someone else contributed to the jar, the charities of their choice get included too.&lt;/p&gt;

&lt;h2 id=&quot;one-app-one-service&quot;&gt;One App, One Service&lt;/h2&gt;

&lt;p&gt;It’s probably not clear at this point that these two ideas are also two different and independent pieces of software.&lt;/p&gt;

&lt;p&gt;The collection of charities associated with your account is a service. Your choice of charities becomes associated with your email address. It allows you to authorize other applications to donate to the charities you care about on your behalf. There are lots of web sites that donate your money to charity but this service flips the selection of those charities around. You control which charities are the recipient of your money instead of the owner of the web site.&lt;/p&gt;

&lt;p&gt;The virtual coin jar is an app. You login and put coins in a jar. When the jar is full, you use the app to empty the jar. When that jar is emptied, the app uses the charity service to donate real money.&lt;/p&gt;

&lt;h2 id=&quot;next-steps&quot;&gt;Next Steps&lt;/h2&gt;

&lt;p&gt;Providing a way for business to let their users choose which charities receive your money is still a pretty fresh idea to me. I have been practicing how to describe the idea in the simplest way possible (my “elevator pitch”) but my delivery still needs work.&lt;/p&gt;

&lt;p&gt;Over the past couple of weeks I have been focusing on creating an &lt;a href=&quot;http://en.wikipedia.org/wiki/Minimum_viable_product&quot;&gt;MVP&lt;/a&gt; for the more tangible coin jar app. I will likely continue down this avenue until I get a better handle on the charity service. Here’s one of the mock-ups:&lt;/p&gt;

&lt;div class=&quot;image-center&quot;&gt;
    
    &lt;img src=&quot;/img/posts/yourjarsprototype.png&quot; class=&quot;shadow&quot; /&gt;
    
    Contribution Jar Mock-Up
&lt;/div&gt;

&lt;p&gt;It has felt a little weird writing about this idea under the guise of my for-profit business, Technical Rex. It’s not clear to me which type of business is appropriate for facilitating charitable donations but my gut is telling me a non-profit business is the way to go. That being said, I will also be researching if and when to establish a non-profit business.&lt;/p&gt;

&lt;p&gt;I am looking for feedback too! There are &lt;a href=&quot;http://www.thehatching.org&quot;&gt;some&lt;/a&gt; &lt;a href=&quot;http://www.up.co/communities/usa/lansing/startup-weekend/5348&quot;&gt;events&lt;/a&gt; in the Lansing area that would help me get some feedback. I’m considering taking a stab at one or both of them but they’re coming up quick so time is working against me.&lt;/p&gt;

&lt;p&gt;If you read this and feel like offering your own feedback, please &lt;a href=&quot;mailto:erik.gillespie@gmail.com&quot;&gt;email me&lt;/a&gt; or comment below, even if it’s as simple as “I would totally use this” or “Worst. Idea. Evar.”&lt;/p&gt;
</description>
        <pubDate>Wed, 11 Feb 2015 00:00:00 -0500</pubDate>
      </item>
    
      <item>
        <title>The New Digs</title>
        <link>http://technicalrex.com/2015/01/20/the-new-digs</link>
        <guid isPermaLink="true">http://technicalrex.com/2015/01/20/the-new-digs</guid>
        <description>&lt;p&gt;Last week I signed a coworking agreement at the &lt;a href=&quot;http://www.neocenter.org&quot;&gt;NEO Center&lt;/a&gt; in Lansing, Michigan!&lt;/p&gt;

&lt;div class=&quot;image-center&quot;&gt;
    
    &lt;img src=&quot;/img/posts/neocentertopfloor.jpg&quot; class=&quot;shadow&quot; /&gt;
    
    Here&#39;s to new room to grow.
&lt;/div&gt;

&lt;p&gt;The picture above is the top floor of the NEO Center. It was -8 degrees Fahrenheit so my apologies for not taking a picture of the outside!&lt;/p&gt;

&lt;p&gt;This is my chance to stop sitting around the house working on small pet projects (mixed in with random chores that have nothing to do with my business goals!) and actually do something meaningful. I am hoping to meet other people and businesses that are part of Lansing’s &lt;a href=&quot;http://lansingstartchart.herokuapp.com&quot;&gt;impressive startup scene&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;There is a lot of positive energy and movement going on here and I want to be a part of it!&lt;/p&gt;
</description>
        <pubDate>Tue, 20 Jan 2015 00:00:00 -0500</pubDate>
      </item>
    
      <item>
        <title>Recover Text Data from an iPhone Backup Without Restoring</title>
        <link>http://technicalrex.com/2014/10/31/recover-text-data-from-an-iphone-backup-without-restoring</link>
        <guid isPermaLink="true">http://technicalrex.com/2014/10/31/recover-text-data-from-an-iphone-backup-without-restoring</guid>
        <description>&lt;p&gt;When I upgraded to the &lt;a href=&quot;http://www.apple.com/iphone-6/&quot;&gt;iPhone 6 Plus&lt;/a&gt; I had this brilliant idea to start from a blank slate on the phone and add apps one by one as I needed them instead of restoring from a backup. In theory this was a good idea but I have since discovered that practically all of my settings and data for the various third-party apps that I had installed would no longer be available to me!&lt;/p&gt;

&lt;p&gt;In particular, I had used a list app to keep track of some To Dos, Books, Board Games, Home Improvements, and so on that would be nice to have access to once again. I wanted these lists pretty badly, but not so much that I would risk restoring an old backup onto my new phone. As it turns out, &lt;a href=&quot;http://stackoverflow.com/questions/5053675/iphone-simulator-is-it-possible-to-restore-a-real-iphone-backup-to-it&quot;&gt;restoring a backup to the iPhone simulator&lt;/a&gt; doesn’t really work either.&lt;/p&gt;

&lt;p&gt;Without much hope left, I decided to see what I could gleam from a very manual and visual inspection of my most recent backup. To my great relief, this effort ended up panning out for me. In case anyone may want to use some of the same tricks, I’ve documented my approach below.&lt;/p&gt;

&lt;h2 id=&quot;before-we-begin&quot;&gt;Before We Begin&lt;/h2&gt;

&lt;p&gt;There are a couple of things that I should point out before I begin.&lt;/p&gt;

&lt;p&gt;The data I was looking for was textual in nature and I was able to remember one or two exact phrases that would help me locate the data. This hack involves searching through many gigabytes of files so it will really help if you can remember something fairly unique about what you are searching for.&lt;/p&gt;

&lt;p&gt;I used Terminal on Mac OS X to run some &lt;code class=&quot;highlighter-rouge&quot;&gt;bash&lt;/code&gt; commands to help me along. You don’t absolutely need to be familiar with &lt;code class=&quot;highlighter-rouge&quot;&gt;bash&lt;/code&gt; to pull this hack off but it would help. Also, Windows does not come with &lt;code class=&quot;highlighter-rouge&quot;&gt;bash&lt;/code&gt; by default so if you are running Windows you will need to install something equivalent such as &lt;a href=&quot;http://cygwin.com&quot;&gt;CygWin&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;You will need a backup saved to your computer. As far as I know, these instructions don’t work for an iCloud-only backup.&lt;/p&gt;

&lt;h2 id=&quot;step-1---locate-the-backup&quot;&gt;Step 1 - Locate the Backup&lt;/h2&gt;

&lt;p&gt;The first thing I had to figure out was where on my computer my iPhone backup was located. I found &lt;a href=&quot;http://osxdaily.com/2009/09/11/iphone-backup-location/&quot;&gt;this&lt;/a&gt; article that pointed me in the right direction.&lt;/p&gt;

&lt;p&gt;On Mac OS X the backups are kept here:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;~/Library/Application Support/MobileSync/Backup/
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;On Windows 7 the backups are kept here:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;C:\Users\user\AppData\Roaming\Apple Computer\MobileSync\Backup
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;This directory will contain one or more other directories with cryptic names. Choose the most recently modified directory for you search. From a &lt;code class=&quot;highlighter-rouge&quot;&gt;bash&lt;/code&gt; terminal (launch Terminal in Mac OS X or CygWin in Windows), you can use &lt;code class=&quot;highlighter-rouge&quot;&gt;ls&lt;/code&gt; to get this info:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; ~/Library/Application&lt;span class=&quot;se&quot;&gt;\ &lt;/span&gt;Support/MobileSync/Backup/
&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;ls -l
total 0
drwxr-xr-x  1789 user  staff   60826 Dec  7  2011 cc75651774e7d33aa0b2c41daddd5e71c434911a
drwxr-xr-x  6251 user  staff  212534 Sep 14 12:22 ce821a918c7df7e1141b13e1a27951f0fe1c0609&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;In my case I chose the backup “ce821a918c7df7e1141b13e1a27951f0fe1c0609” for my search and then changed to that directory in my open terminal:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;ce821a918c7df7e1141b13e1a27951f0fe1c0609/&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;step-2---locate-likely-candidates&quot;&gt;Step 2 - Locate Likely Candidates&lt;/h2&gt;

&lt;p&gt;The backup will likely contain hundreds of files that are as cryptically named as the backup itself. These files are also binary with little bits of text littered throughout, so searching through these files would be very difficult to do one at a time. This is where the hack starts to get technical.&lt;/p&gt;

&lt;p&gt;Use the following command to search through all of the files located in the backup for a string that you suspect would be included within the data you want to recover. In my case I was looking for a book list and searched for an author I thought might be in the list: &lt;a href=&quot;http://brandonsanderson.com/&quot;&gt;Brandon Sanderson&lt;/a&gt;.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;find . -type f | xargs fgrep -i &lt;span class=&quot;s1&quot;&gt;&#39;brandon sanderson&#39;&lt;/span&gt;
Binary file ./176ad246fb5b1db1276b1a593b405f77aeef7454 matches
Binary file ./3d0d7e5fb2ce288813306e4d4636395e047a3d28 matches
Binary file ./3f911eaba3ed2d1657bc98cc5386ef2b998f7e0e matches
Binary file ./43dd6c5ec8890e6d431ef1e1f94b055c8a3da4ff matches
Binary file ./972be36ca964b5a22c5bc748202886d46e4fa963 matches
Binary file ./c079df01654bbab0b8ae4c0e757177d824981c09 matches&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The search may take several minutes to finish. While it’s running though, you should start getting a list of files that contain the search string that you supplied. Once the search completes, you will hopefully have a small handful of files to inspect to find the right one.&lt;/p&gt;

&lt;h2 id=&quot;step-3---find-the-one-true-file&quot;&gt;Step 3 - Find the One True File&lt;/h2&gt;

&lt;p&gt;The next part is tedious: inspect each resulting file by hand. I hope you only had a few files match! If not, perhaps you should try a different search string.&lt;/p&gt;

&lt;p&gt;Open each file in your favorite text editor (if you have a text editor that handles binary files really well then choose that one). I just chose &lt;code class=&quot;highlighter-rouge&quot;&gt;vi&lt;/code&gt; because I was already at the command prompt.&lt;/p&gt;

&lt;p&gt;For each file, search for the string again. You may have to mix up the capitalization if you are doing an exact match, but when you find the string then you will need to look at the surrounding text to see if it general fits with the other types of data that you are looking for. In my case since I was trying to find a book list I looked for other authors and book titles.&lt;/p&gt;

&lt;p&gt;If the surrounding content doesn’t fit what you’re looking for then move on to the next file. When you do find the right file then go back to the top of the file and look at the first handful of bytes. If you see the string “SQLite format 3” then you’re even more likely to be on the right track because SQLite is a common way to store application data on iPhones.&lt;/p&gt;

&lt;p&gt;The resulting file is a database that will contain a lot of browsable data as long as we have a program that can understand the file format. Fortunately for us, there is a freely available tool named &lt;a href=&quot;http://sqlitebrowser.org/&quot;&gt;SQLite Browser&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;step-4---install-and-launch-sqlite-browser&quot;&gt;Step 4 - Install and Launch SQLite Browser&lt;/h2&gt;

&lt;p&gt;You can download the latest version of SQLite Browser from their GitHub &lt;a href=&quot;https://github.com/sqlitebrowser/sqlitebrowser/releases&quot;&gt;release page&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;If you’re running Mac OS X you may have to jump a small hurdle to run the app. When I first tried to run the program I was told that my security preferences do not permit the application to be launched. To get around this problem i sent to Settings &amp;gt; Security &amp;amp; Privacy and clicked the “Open Anyway”.&lt;/p&gt;

&lt;div class=&quot;image-center&quot;&gt;
    
    &lt;img src=&quot;/img/posts/iphone-recover/openanyway.png&quot; class=&quot;shadow&quot; /&gt;
    
    Open Anyway
&lt;/div&gt;

&lt;h2 id=&quot;step-5---open-the-database&quot;&gt;Step 5 - Open the Database&lt;/h2&gt;

&lt;p&gt;Once SQLite Browser is running, open the file that contains the data you want to inspect. This is pretty straight forward on Windows but on Mac OS X the Library directory is hidden by default so when you are prompted to select a file to open you will need to press Command+Shift+G and type in “/Users/user/Library” before you can actually drill down and find the file you are looking for.&lt;/p&gt;

&lt;p&gt;Another useful tip for opening the file once you navigate to the backup directory that contains all of the cryptic file names is that you can just start typing the name of the file and Finder or Explorer will jump you to the first file that matches the text you have typed.&lt;/p&gt;

&lt;p&gt;When the file opens, you will see something like this:&lt;/p&gt;

&lt;div class=&quot;image-center&quot;&gt;
    
    &lt;img src=&quot;/img/posts/iphone-recover/dbstructure.png&quot; class=&quot;shadow&quot; /&gt;
    
    DB Structure
&lt;/div&gt;

&lt;h2 id=&quot;step-6---explore-the-structure&quot;&gt;Step 6 - Explore the Structure&lt;/h2&gt;

&lt;p&gt;Upon opening the database file you will be presented with a list of tables. These tables contain the data that you are looking for but it may not be obvious which tables are the right ones. You will have to explore the structure to figure out how the tables relate to each other but generally the table names will make some sort of sense and help you know where to start.&lt;/p&gt;

&lt;p&gt;In my case I was looking at a database for a list manager. There happened to be a table named “list” which is where I started my search.&lt;/p&gt;

&lt;p&gt;When you find a table that you want to inspect, simply click the “Browse Data” tab and choose the appropriate table from the dropdown list. In my case the “list” table looked like this:&lt;/p&gt;

&lt;div class=&quot;image-center&quot;&gt;
    
    &lt;img src=&quot;/img/posts/iphone-recover/listdata.png&quot; class=&quot;shadow&quot; /&gt;
    
    List Data
&lt;/div&gt;

&lt;p&gt;The list I was looking for is right there! However, I wanted to get the titles and authors of the books in the list so I wasn’t quite done yet.&lt;/p&gt;

&lt;p&gt;Keeping in mind that SQLite is a relational database, I took note of the value “13” in the “list_id” cell for the “Books” list. I then picked a different table, looking for a similarly titled column. When I opened the “item” table I found what I was looking for: the values that make up each of the lists. I typed the value “13” into the “list_id” Filter box and was presented with all of the items contained in list 13.&lt;/p&gt;

&lt;div class=&quot;image-center&quot;&gt;
    
    &lt;img src=&quot;/img/posts/iphone-recover/filterdata.png&quot; class=&quot;shadow&quot; /&gt;
    
    Filter Data
&lt;/div&gt;

&lt;p&gt;Scrolling to the right a little bit confirmed that I was in the right spot. Behold, my book list!&lt;/p&gt;

&lt;div class=&quot;image-center&quot;&gt;
    
    &lt;img src=&quot;/img/posts/iphone-recover/founddata.png&quot; class=&quot;shadow&quot; /&gt;
    
    Found Data
&lt;/div&gt;

&lt;h2 id=&quot;step-7---export-the-table&quot;&gt;Step 7 - Export the Table&lt;/h2&gt;

&lt;p&gt;Being able to see my lists felt pretty damn awesome. The next thing I wanted to do was copy that data and put it somewhere useful, such as in a spreadsheet or text file. Unfortunately, at the time of this writing, SQLite Browser does not support Copy/Paste operations. :(&lt;/p&gt;

&lt;p&gt;Fortunately, there is an export option. If you select File &amp;gt; Export &amp;gt; Table as CSV File you will be presented with a window that lets you choose a table to export.&lt;/p&gt;

&lt;div class=&quot;image-center&quot;&gt;
    
    &lt;img src=&quot;/img/posts/iphone-recover/exporttable.png&quot; class=&quot;shadow&quot; /&gt;
    
    Export Table
&lt;/div&gt;

&lt;p&gt;Choose the appropriate table to export (“item” in my case) and click OK. Type the name of the file and save. You now have a file you can open in Numbers or Excel and Copy/Paste and manipulate to your heart’s content!&lt;/p&gt;
</description>
        <pubDate>Fri, 31 Oct 2014 00:00:00 -0400</pubDate>
      </item>
    
  </channel>
</rss>
