<!DOCTYPE html>
<html class="no-js">
<head>
	<meta charset="utf-8">
	<title>Recover Text Data from an iPhone Backup Without Restoring | Technical Rex</title>
	<meta name="description" content="If you've ever been in a situation where you need to recover data from an old iPhone backup but you don't want to restore the backup over top of your current...">
	<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
	<meta http-equiv="X-Frame-Options" content="sameorigin">

	<link rel="stylesheet" href="/css/main.css">

	<link rel="canonical" href="http://technicalrex.com/2014/10/31/recover-text-data-from-an-iphone-backup-without-restoring">
	<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
	<link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,700italic,400italic" rel="stylesheet" type="text/css">

	<!-- For IE 9 and below. ICO should be 32x32 pixels in size -->
<!--[if IE]><link rel="shortcut icon" href="/img/icons/favicon.ico"><![endif]-->

<!-- Touch Icons - iOS and Android 2.1+ 180x180 pixels in size. -->
<link rel="apple-touch-icon" href="/img/icons/apple-touch-icon.png">

<!-- Firefox, Chrome, Safari, IE 11+ and Opera. 196x196 pixels in size. -->
<link rel="icon" href="/img/icons/favicon.png">

</head>

<body>
    <div id="landscape">
        <header class="site-header">
	<div class="branding flow-nav">
		<h1 class="site-title">
			<a href="/">Technical Rex</a>
		</h1>
	</div>
	<nav class="site-nav flow-nav">
		<ul class="flow-nav">
			
			
			<li class="flow-nav">
				<a class="page-link" href="/about.html">About</a>
			</li>
			
			
			
			<li class="flow-nav">
				<a class="page-link" href="/apps.html">Apps</a>
			</li>
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			<li class="flow-nav">
				<a href="/feed.xml" title="">
					<i class="fa fa-fw fa-rss"></i>
				</a>
			</li>
		</ul>
	</nav>
</header>

        <div id="page-container">
            <div class="underlay">
    <div class="content">
        <article>
            <header class="post-header">
                <h1 class="title">Recover Text Data from an iPhone Backup Without Restoring</h1>
                <p class="about">
                    Posted  by Erik Gillespie
                    on October 31, 2014
                </p>
            </header>
            <section class="post-content"><p>When I upgraded to the <a href="http://www.apple.com/iphone-6/">iPhone 6 Plus</a> I had this brilliant idea to start from a blank slate on the phone and add apps one by one as I needed them instead of restoring from a backup. In theory this was a good idea but I have since discovered that practically all of my settings and data for the various third-party apps that I had installed would no longer be available to me!</p>

<p>In particular, I had used a list app to keep track of some To Dos, Books, Board Games, Home Improvements, and so on that would be nice to have access to once again. I wanted these lists pretty badly, but not so much that I would risk restoring an old backup onto my new phone. As it turns out, <a href="http://stackoverflow.com/questions/5053675/iphone-simulator-is-it-possible-to-restore-a-real-iphone-backup-to-it">restoring a backup to the iPhone simulator</a> doesn’t really work either.</p>

<p>Without much hope left, I decided to see what I could gleam from a very manual and visual inspection of my most recent backup. To my great relief, this effort ended up panning out for me. In case anyone may want to use some of the same tricks, I’ve documented my approach below.</p>

<h2 id="before-we-begin">Before We Begin</h2>

<p>There are a couple of things that I should point out before I begin.</p>

<p>The data I was looking for was textual in nature and I was able to remember one or two exact phrases that would help me locate the data. This hack involves searching through many gigabytes of files so it will really help if you can remember something fairly unique about what you are searching for.</p>

<p>I used Terminal on Mac OS X to run some <code>bash</code> commands to help me along. You don’t absolutely need to be familiar with <code>bash</code> to pull this hack off but it would help. Also, Windows does not come with <code>bash</code> by default so if you are running Windows you will need to install something equivalent such as <a href="http://cygwin.com">CygWin</a>.</p>

<p>You will need a backup saved to your computer. As far as I know, these instructions don’t work for an iCloud-only backup.</p>

<h2 id="step-1---locate-the-backup">Step 1 - Locate the Backup</h2>

<p>The first thing I had to figure out was where on my computer my iPhone backup was located. I found <a href="http://osxdaily.com/2009/09/11/iphone-backup-location/">this</a> article that pointed me in the right direction.</p>

<p>On Mac OS X the backups are kept here:</p>

<pre><code>~/Library/Application Support/MobileSync/Backup/
</code></pre>

<p>On Windows 7 the backups are kept here:</p>

<pre><code>C:\Users\user\AppData\Roaming\Apple Computer\MobileSync\Backup
</code></pre>

<p>This directory will contain one or more other directories with cryptic names. Choose the most recently modified directory for you search. From a <code>bash</code> terminal (launch Terminal in Mac OS X or CygWin in Windows), you can use <code>ls</code> to get this info:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span><span class="nb">cd</span> ~/Library/Application<span class="se">\ </span>Support/MobileSync/Backup/
<span class="nv">$ </span>ls -l
total 0
drwxr-xr-x  <span class="m">1789</span> user  staff   <span class="m">60826</span> Dec  <span class="m">7</span>  <span class="m">2011</span> cc75651774e7d33aa0b2c41daddd5e71c434911a
drwxr-xr-x  <span class="m">6251</span> user  staff  <span class="m">212534</span> Sep <span class="m">14</span> 12:22 ce821a918c7df7e1141b13e1a27951f0fe1c0609</code></pre></div>

<p>In my case I chose the backup “ce821a918c7df7e1141b13e1a27951f0fe1c0609” for my search and then changed to that directory in my open terminal:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span><span class="nb">cd </span>ce821a918c7df7e1141b13e1a27951f0fe1c0609/</code></pre></div>

<h2 id="step-2---locate-likely-candidates">Step 2 - Locate Likely Candidates</h2>

<p>The backup will likely contain hundreds of files that are as cryptically named as the backup itself. These files are also binary with little bits of text littered throughout, so searching through these files would be very difficult to do one at a time. This is where the hack starts to get technical.</p>

<p>Use the following command to search through all of the files located in the backup for a string that you suspect would be included within the data you want to recover. In my case I was looking for a book list and searched for an author I thought might be in the list: <a href="http://brandonsanderson.com/">Brandon Sanderson</a>.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>find . -type f <span class="p">|</span> xargs fgrep -i <span class="s1">&#39;brandon sanderson&#39;</span>
Binary file ./176ad246fb5b1db1276b1a593b405f77aeef7454 matches
Binary file ./3d0d7e5fb2ce288813306e4d4636395e047a3d28 matches
Binary file ./3f911eaba3ed2d1657bc98cc5386ef2b998f7e0e matches
Binary file ./43dd6c5ec8890e6d431ef1e1f94b055c8a3da4ff matches
Binary file ./972be36ca964b5a22c5bc748202886d46e4fa963 matches
Binary file ./c079df01654bbab0b8ae4c0e757177d824981c09 matches</code></pre></div>

<p>The search may take several minutes to finish. While it’s running though, you should start getting a list of files that contain the search string that you supplied. Once the search completes, you will hopefully have a small handful of files to inspect to find the right one.</p>

<h2 id="step-3---find-the-one-true-file">Step 3 - Find the One True File</h2>

<p>The next part is tedious: inspect each resulting file by hand. I hope you only had a few files match! If not, perhaps you should try a different search string.</p>

<p>Open each file in your favorite text editor (if you have a text editor that handles binary files really well then choose that one). I just chose <code>vi</code> because I was already at the command prompt.</p>

<p>For each file, search for the string again. You may have to mix up the capitalization if you are doing an exact match, but when you find the string then you will need to look at the surrounding text to see if it general fits with the other types of data that you are looking for. In my case since I was trying to find a book list I looked for other authors and book titles.</p>

<p>If the surrounding content doesn’t fit what you’re looking for then move on to the next file. When you do find the right file then go back to the top of the file and look at the first handful of bytes. If you see the string “SQLite format 3” then you’re even more likely to be on the right track because SQLite is a common way to store application data on iPhones.</p>

<p>The resulting file is a database that will contain a lot of browsable data as long as we have a program that can understand the file format. Fortunately for us, there is a freely available tool named <a href="http://sqlitebrowser.org/">SQLite Browser</a>.</p>

<h2 id="step-4---install-and-launch-sqlite-browser">Step 4 - Install and Launch SQLite Browser</h2>

<p>You can download the latest version of SQLite Browser from their GitHub <a href="https://github.com/sqlitebrowser/sqlitebrowser/releases">release page</a>.</p>

<p>If you’re running Mac OS X you may have to jump a small hurdle to run the app. When I first tried to run the program I was told that my security preferences do not permit the application to be launched. To get around this problem i sent to Settings &gt; Security &amp; Privacy and clicked the “Open Anyway”.</p>

<div class="image-center">
    
    <img src="/img/posts/iphone-recover/openanyway.png" class="shadow" />
    
    Open Anyway
</div>

<h2 id="step-5---open-the-database">Step 5 - Open the Database</h2>

<p>Once SQLite Browser is running, open the file that contains the data you want to inspect. This is pretty straight forward on Windows but on Mac OS X the Library directory is hidden by default so when you are prompted to select a file to open you will need to press Command+Shift+G and type in “/Users/user/Library” before you can actually drill down and find the file you are looking for.</p>

<p>Another useful tip for opening the file once you navigate to the backup directory that contains all of the cryptic file names is that you can just start typing the name of the file and Finder or Explorer will jump you to the first file that matches the text you have typed.</p>

<p>When the file opens, you will see something like this:</p>

<div class="image-center">
    
    <img src="/img/posts/iphone-recover/dbstructure.png" class="shadow" />
    
    DB Structure
</div>

<h2 id="step-6---explore-the-structure">Step 6 - Explore the Structure</h2>

<p>Upon opening the database file you will be presented with a list of tables. These tables contain the data that you are looking for but it may not be obvious which tables are the right ones. You will have to explore the structure to figure out how the tables relate to each other but generally the table names will make some sort of sense and help you know where to start.</p>

<p>In my case I was looking at a database for a list manager. There happened to be a table named “list” which is where I started my search.</p>

<p>When you find a table that you want to inspect, simply click the “Browse Data” tab and choose the appropriate table from the dropdown list. In my case the “list” table looked like this:</p>

<div class="image-center">
    
    <img src="/img/posts/iphone-recover/listdata.png" class="shadow" />
    
    List Data
</div>

<p>The list I was looking for is right there! However, I wanted to get the titles and authors of the books in the list so I wasn’t quite done yet.</p>

<p>Keeping in mind that SQLite is a relational database, I took note of the value “13” in the “list_id” cell for the “Books” list. I then picked a different table, looking for a similarly titled column. When I opened the “item” table I found what I was looking for: the values that make up each of the lists. I typed the value “13” into the “list_id” Filter box and was presented with all of the items contained in list 13.</p>

<div class="image-center">
    
    <img src="/img/posts/iphone-recover/filterdata.png" class="shadow" />
    
    Filter Data
</div>

<p>Scrolling to the right a little bit confirmed that I was in the right spot. Behold, my book list!</p>

<div class="image-center">
    
    <img src="/img/posts/iphone-recover/founddata.png" class="shadow" />
    
    Found Data
</div>

<h2 id="step-7---export-the-table">Step 7 - Export the Table</h2>

<p>Being able to see my lists felt pretty damn awesome. The next thing I wanted to do was copy that data and put it somewhere useful, such as in a spreadsheet or text file. Unfortunately, at the time of this writing, SQLite Browser does not support Copy/Paste operations. :(</p>

<p>Fortunately, there is an export option. If you select File &gt; Export &gt; Table as CSV File you will be presented with a window that lets you choose a table to export.</p>

<div class="image-center">
    
    <img src="/img/posts/iphone-recover/exporttable.png" class="shadow" />
    
    Export Table
</div>

<p>Choose the appropriate table to export (“item” in my case) and click OK. Type the name of the file and save. You now have a file you can open in Numbers or Excel and Copy/Paste and manipulate to your heart’s content!</p>
</section>
            <p class="signature"> - Erik</p>
        </article>
    </div>
</div>

        </div>
        <footer class="site-footer">
	<p class="text">Copyright © 2015 Technical Rex, Inc. Re-use with attribution encouraged. All other rights reserved.</p>
</footer>

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-62666024-3', 'auto');
ga('send', 'pageview');
</script>



    </div>
    <img id="rex" src="/img/rex/rex-main.png"></img>
</body>
</html>
